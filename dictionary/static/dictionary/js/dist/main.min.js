parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"IWbl":[function(require,module,exports) {
var define;
var global = arguments[3];
var e,t=arguments[3];!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof e&&e.amd?e(r):(t=t||self,function(){var e=t.Cookies,n=t.Cookies=r();n.noConflict=function(){return t.Cookies=e,n}}())}(this,function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}var t={read:function(e){return e.replace(/%3B/g,";")},write:function(e){return e.replace(/;/g,"%3B")}};return function r(n,i){function o(r,o,u){if("undefined"!=typeof document){"number"==typeof(u=e({},i,u)).expires&&(u.expires=new Date(Date.now()+864e5*u.expires)),u.expires&&(u.expires=u.expires.toUTCString()),r=t.write(r).replace(/=/g,"%3D"),o=n.write(String(o),r);var c="";for(var f in u)u[f]&&(c+="; "+f,!0!==u[f]&&(c+="="+u[f].split(";")[0]));return document.cookie=r+"="+o+c}}return Object.create({set:o,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],i={},o=0;o<r.length;o++){var u=r[o].split("="),c=u.slice(1).join("="),f=t.read(u[0]).replace(/%3D/g,"=");if(i[f]=n.read(c,f),e===f)break}return e?i[e]:i}},remove:function(t,r){o(t,"",e({},r,{expires:-1}))},withAttributes:function(t){return r(this.converter,e({},this.attributes,t))},withConverter:function(t){return r(e({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(n)}})}(t,{path:"/"})});
},{}],"xyzt":[function(require,module,exports) {
"use strict";function t(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left,x:e.left,y:e.top}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"Mhix":[function(require,module,exports) {
"use strict";function e(e){if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t?t.defaultView:window}return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"j3kn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("./getWindow.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){var r=(0,e.default)(t);return{scrollLeft:r.pageXOffset,scrollTop:r.pageYOffset}}
},{"./getWindow.js":"Mhix"}],"mzFZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isElement=n,exports.isHTMLElement=r;var e=t(require("./getWindow.js"));function t(e){return e&&e.__esModule?e:{default:e}}function n(t){return t instanceof(0,e.default)(t).Element||t instanceof Element}function r(t){return t instanceof(0,e.default)(t).HTMLElement||t instanceof HTMLElement}
},{"./getWindow.js":"Mhix"}],"LTOQ":[function(require,module,exports) {
"use strict";function e(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"g1i1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var e=l(require("./getWindowScroll.js")),t=l(require("./getWindow.js")),r=require("./instanceOf.js"),u=l(require("./getHTMLElementScroll.js"));function l(e){return e&&e.__esModule?e:{default:e}}function n(l){return l!==(0,t.default)(l)&&(0,r.isHTMLElement)(l)?(0,u.default)(l):(0,e.default)(l)}
},{"./getWindowScroll.js":"j3kn","./getWindow.js":"Mhix","./instanceOf.js":"mzFZ","./getHTMLElementScroll.js":"LTOQ"}],"wFjk":[function(require,module,exports) {
"use strict";function e(e){return e?(e.nodeName||"").toLowerCase():null}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"LRhK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=require("./instanceOf.js");function t(t){return((0,e.isElement)(t)?t.ownerDocument:t.document).documentElement}
},{"./instanceOf.js":"mzFZ"}],"TeYH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l;var e=u(require("./getBoundingClientRect.js")),t=u(require("./getDocumentElement.js")),r=u(require("./getWindowScroll.js"));function u(e){return e&&e.__esModule?e:{default:e}}function l(u){return(0,e.default)((0,t.default)(u)).left+(0,r.default)(u).scrollLeft}
},{"./getBoundingClientRect.js":"xyzt","./getDocumentElement.js":"LRhK","./getWindowScroll.js":"j3kn"}],"m22s":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=t(require("./getWindow.js"));function t(e){return e&&e.__esModule?e:{default:e}}function u(t){return(0,e.default)(t).getComputedStyle(t)}
},{"./getWindow.js":"Mhix"}],"Gcl6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("./getComputedStyle.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){var r=(0,e.default)(t),o=r.overflow,u=r.overflowX,l=r.overflowY;return/auto|scroll|overlay|hidden/.test(o+l+u)}
},{"./getComputedStyle.js":"m22s"}],"DX0n":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=d;var e=s(require("./getBoundingClientRect.js")),t=s(require("./getNodeScroll.js")),r=s(require("./getNodeName.js")),l=require("./instanceOf.js"),u=s(require("./getWindowScrollBarX.js")),i=s(require("./getDocumentElement.js")),o=s(require("./isScrollParent.js"));function s(e){return e&&e.__esModule?e:{default:e}}function d(s,d,n){void 0===n&&(n=!1);var f=(0,i.default)(d),a=(0,e.default)(s),c=(0,l.isHTMLElement)(d),g={scrollLeft:0,scrollTop:0},j={x:0,y:0};return(c||!c&&!n)&&(("body"!==(0,r.default)(d)||(0,o.default)(f))&&(g=(0,t.default)(d)),(0,l.isHTMLElement)(d)?((j=(0,e.default)(d)).x+=d.clientLeft,j.y+=d.clientTop):f&&(j.x=(0,u.default)(f))),{x:a.left+g.scrollLeft-j.x,y:a.top+g.scrollTop-j.y,width:a.width,height:a.height}}
},{"./getBoundingClientRect.js":"xyzt","./getNodeScroll.js":"g1i1","./getNodeName.js":"wFjk","./instanceOf.js":"mzFZ","./getWindowScrollBarX.js":"TeYH","./getDocumentElement.js":"LRhK","./isScrollParent.js":"Gcl6"}],"ZXa8":[function(require,module,exports) {
"use strict";function e(e){return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"UMLJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=r(require("./getNodeName.js")),t=r(require("./getDocumentElement.js"));function r(e){return e&&e.__esModule?e:{default:e}}function u(r){return"html"===(0,e.default)(r)?r:r.assignedSlot||r.parentNode||r.host||(0,t.default)(r)}
},{"./getNodeName.js":"wFjk","./getDocumentElement.js":"LRhK"}],"rY3b":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var e=n(require("./getParentNode.js")),t=n(require("./isScrollParent.js")),r=n(require("./getNodeName.js")),u=require("./instanceOf.js");function n(e){return e&&e.__esModule?e:{default:e}}function o(n){return["html","body","#document"].indexOf((0,r.default)(n))>=0?n.ownerDocument.body:(0,u.isHTMLElement)(n)&&(0,t.default)(n)?n:o((0,e.default)(n))}
},{"./getParentNode.js":"UMLJ","./isScrollParent.js":"Gcl6","./getNodeName.js":"wFjk","./instanceOf.js":"mzFZ"}],"odmb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=d;var e=o(require("./getScrollParent.js")),t=o(require("./getParentNode.js")),r=o(require("./getNodeName.js")),u=o(require("./getWindow.js")),a=o(require("./isScrollParent.js"));function o(e){return e&&e.__esModule?e:{default:e}}function d(o,l){void 0===l&&(l=[]);var i=(0,e.default)(o),n="body"===(0,r.default)(i),s=(0,u.default)(i),c=n?[s].concat(s.visualViewport||[],(0,a.default)(i)?i:[]):i,f=l.concat(c);return n?f:f.concat(d((0,t.default)(c)))}
},{"./getScrollParent.js":"rY3b","./getParentNode.js":"UMLJ","./getNodeName.js":"wFjk","./getWindow.js":"Mhix","./isScrollParent.js":"Gcl6"}],"mTZ7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("./getNodeName.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){return["table","td","th"].indexOf((0,e.default)(t))>=0}
},{"./getNodeName.js":"wFjk"}],"qRQD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var e=o(require("./getWindow.js")),t=o(require("./getNodeName.js")),r=o(require("./getComputedStyle.js")),n=require("./instanceOf.js"),u=o(require("./isTableElement.js")),i=o(require("./getParentNode.js")),a=o(require("./getDocumentElement.js"));function o(e){return e&&e.__esModule?e:{default:e}}function l(e){if(!(0,n.isHTMLElement)(e)||"fixed"===(0,r.default)(e).position)return null;var u=e.offsetParent;if(u){var i=(0,a.default)(u);if("body"===(0,t.default)(u)&&"static"===(0,r.default)(u).position&&"static"!==(0,r.default)(i).position)return i}return u}function f(e){for(var u=(0,i.default)(e);(0,n.isHTMLElement)(u)&&["html","body"].indexOf((0,t.default)(u))<0;){var a=(0,r.default)(u);if("none"!==a.transform||"none"!==a.perspective||a.willChange&&"auto"!==a.willChange)return u;u=u.parentNode}return null}function s(n){for(var i=(0,e.default)(n),a=l(n);a&&(0,u.default)(a)&&"static"===(0,r.default)(a).position;)a=l(a);return a&&"body"===(0,t.default)(a)&&"static"===(0,r.default)(a).position?i:a||f(n)||i}
},{"./getWindow.js":"Mhix","./getNodeName.js":"wFjk","./getComputedStyle.js":"m22s","./instanceOf.js":"mzFZ","./isTableElement.js":"mTZ7","./getParentNode.js":"UMLJ","./getDocumentElement.js":"LRhK"}],"cEz3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.modifierPhases=exports.afterWrite=exports.write=exports.beforeWrite=exports.afterMain=exports.main=exports.beforeMain=exports.afterRead=exports.read=exports.beforeRead=exports.placements=exports.variationPlacements=exports.reference=exports.popper=exports.viewport=exports.clippingParents=exports.end=exports.start=exports.basePlacements=exports.auto=exports.left=exports.right=exports.bottom=exports.top=void 0;var e="top";exports.top=e;var r="bottom";exports.bottom=r;var t="right";exports.right=t;var o="left";exports.left=o;var a="auto";exports.auto=a;var p=[e,r,t,o];exports.basePlacements=p;var s="start";exports.start=s;var x="end";exports.end=x;var i="clippingParents";exports.clippingParents=i;var n="viewport";exports.viewport=n;var v="popper";exports.popper=v;var f="reference";exports.reference=f;var c=p.reduce(function(e,r){return e.concat([r+"-"+s,r+"-"+x])},[]);exports.variationPlacements=c;var d=[].concat(p,[a]).reduce(function(e,r){return e.concat([r,r+"-"+s,r+"-"+x])},[]);exports.placements=d;var b="beforeRead";exports.beforeRead=b;var l="read";exports.read=l;var m="afterRead";exports.afterRead=m;var u="beforeMain";exports.beforeMain=u;var P="main";exports.main=P;var M="afterMain";exports.afterMain=M;var g="beforeWrite";exports.beforeWrite=g;var w="write";exports.write=w;var R="afterWrite";exports.afterWrite=R;var W=[b,l,m,u,P,M,g,w,R];exports.modifierPhases=W;
},{}],"Sa9b":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=require("../enums.js");function n(e){var n=new Map,r=new Set,t=[];return e.forEach(function(e){n.set(e.name,e)}),e.forEach(function(e){r.has(e.name)||function e(u){r.add(u.name),[].concat(u.requires||[],u.requiresIfExists||[]).forEach(function(t){if(!r.has(t)){var u=n.get(t);u&&e(u)}}),t.push(u)}(e)}),t}function r(r){var t=n(r);return e.modifierPhases.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}
},{"../enums.js":"cEz3"}],"gpXp":[function(require,module,exports) {
"use strict";function e(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"YzPW":[function(require,module,exports) {
"use strict";function e(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];return[].concat(t).reduce(function(e,r){return e.replace(/%s/,r)},e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"qyXp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var e=n(require("./format.js")),r=require("../enums.js");function n(e){return e&&e.__esModule?e:{default:e}}var a='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',o='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',i=["name","enabled","phase","fn","effect","requires","options"];function s(n){n.forEach(function(s){Object.keys(s).forEach(function(t){switch(t){case"name":"string"!=typeof s.name&&console.error((0,e.default)(a,String(s.name),'"name"','"string"','"'+String(s.name)+'"'));break;case"enabled":"boolean"!=typeof s.enabled&&console.error((0,e.default)(a,s.name,'"enabled"','"boolean"','"'+String(s.enabled)+'"'));case"phase":r.modifierPhases.indexOf(s.phase)<0&&console.error((0,e.default)(a,s.name,'"phase"',"either "+r.modifierPhases.join(", "),'"'+String(s.phase)+'"'));break;case"fn":"function"!=typeof s.fn&&console.error((0,e.default)(a,s.name,'"fn"','"function"','"'+String(s.fn)+'"'));break;case"effect":"function"!=typeof s.effect&&console.error((0,e.default)(a,s.name,'"effect"','"function"','"'+String(s.fn)+'"'));break;case"requires":Array.isArray(s.requires)||console.error((0,e.default)(a,s.name,'"requires"','"array"','"'+String(s.requires)+'"'));break;case"requiresIfExists":Array.isArray(s.requiresIfExists)||console.error((0,e.default)(a,s.name,'"requiresIfExists"','"array"','"'+String(s.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+s.name+'" modifier, valid properties are '+i.map(function(e){return'"'+e+'"'}).join(", ")+'; but "'+t+'" was provided.')}s.requires&&s.requires.forEach(function(r){null==n.find(function(e){return e.name===r})&&console.error((0,e.default)(o,String(s.name),r,r))})})})}
},{"./format.js":"YzPW","../enums.js":"cEz3"}],"fRu5":[function(require,module,exports) {
"use strict";function e(e,t){var r=new Set;return e.filter(function(e){var n=t(e);if(!r.has(n))return r.add(n),!0})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"Og5Z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=require("../enums.js");function r(e){return e.split("-")[0]}
},{"../enums.js":"cEz3"}],"dudY":[function(require,module,exports) {
"use strict";function e(e){var t=e.reduce(function(e,t){var s=e[t.name];return e[t.name]=s?Object.assign(Object.assign(Object.assign({},s),t),{},{options:Object.assign(Object.assign({},s.options),t.options),data:Object.assign(Object.assign({},s.data),t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"X1pJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=i(require("./getWindow.js")),t=i(require("./getDocumentElement.js")),r=i(require("./getWindowScrollBarX.js"));function i(e){return e&&e.__esModule?e:{default:e}}function u(i){var u=(0,e.default)(i),o=(0,t.default)(i),n=u.visualViewport,a=o.clientWidth,d=o.clientHeight,s=0,f=0;return n&&(a=n.width,d=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=n.offsetLeft,f=n.offsetTop)),{width:a,height:d,x:s+(0,r.default)(i),y:f}}
},{"./getWindow.js":"Mhix","./getDocumentElement.js":"LRhK","./getWindowScrollBarX.js":"TeYH"}],"Eb6h":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var e=i(require("./getDocumentElement.js")),t=i(require("./getComputedStyle.js")),l=i(require("./getWindowScrollBarX.js")),r=i(require("./getWindowScroll.js"));function i(e){return e&&e.__esModule?e:{default:e}}function o(i){var o=(0,e.default)(i),c=(0,r.default)(i),d=i.ownerDocument.body,u=Math.max(o.scrollWidth,o.clientWidth,d?d.scrollWidth:0,d?d.clientWidth:0),n=Math.max(o.scrollHeight,o.clientHeight,d?d.scrollHeight:0,d?d.clientHeight:0),a=-c.scrollLeft+(0,l.default)(i),h=-c.scrollTop;return"rtl"===(0,t.default)(d||o).direction&&(a+=Math.max(o.clientWidth,d?d.clientWidth:0)-u),{width:u,height:n,x:a,y:h}}
},{"./getDocumentElement.js":"LRhK","./getComputedStyle.js":"m22s","./getWindowScrollBarX.js":"TeYH","./getWindowScroll.js":"j3kn"}],"Rusr":[function(require,module,exports) {
"use strict";function e(e,o){var t=Boolean(o.getRootNode&&o.getRootNode().host);if(e.contains(o))return!0;if(t){var r=o;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"BAgT":[function(require,module,exports) {
"use strict";function t(t){return Object.assign(Object.assign({},t),{},{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"H9Ju":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=j;var e=require("../enums.js"),t=g(require("./getViewportRect.js")),r=g(require("./getDocumentRect.js")),i=g(require("./listScrollParents.js")),n=g(require("./getOffsetParent.js")),u=g(require("./getDocumentElement.js")),o=g(require("./getComputedStyle.js")),l=require("./instanceOf.js"),f=g(require("./getBoundingClientRect.js")),a=g(require("./getParentNode.js")),s=g(require("./contains.js")),c=g(require("./getNodeName.js")),d=g(require("../utils/rectToClientRect.js"));function g(e){return e&&e.__esModule?e:{default:e}}function h(e){var t=(0,f.default)(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function m(i,n){return n===e.viewport?(0,d.default)((0,t.default)(i)):(0,l.isHTMLElement)(n)?h(n):(0,d.default)((0,r.default)((0,u.default)(i)))}function p(e){var t=(0,i.default)((0,a.default)(e)),r=["absolute","fixed"].indexOf((0,o.default)(e).position)>=0&&(0,l.isHTMLElement)(e)?(0,n.default)(e):e;return(0,l.isElement)(r)?t.filter(function(e){return(0,l.isElement)(e)&&(0,s.default)(e,r)&&"body"!==(0,c.default)(e)}):[]}function j(e,t,r){var i="clippingParents"===t?p(e):[].concat(t),n=[].concat(i,[r]),u=n[0],o=n.reduce(function(t,r){var i=m(e,r);return t.top=Math.max(i.top,t.top),t.right=Math.min(i.right,t.right),t.bottom=Math.min(i.bottom,t.bottom),t.left=Math.max(i.left,t.left),t},m(e,u));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}
},{"../enums.js":"cEz3","./getViewportRect.js":"X1pJ","./getDocumentRect.js":"Eb6h","./listScrollParents.js":"odmb","./getOffsetParent.js":"qRQD","./getDocumentElement.js":"LRhK","./getComputedStyle.js":"m22s","./instanceOf.js":"mzFZ","./getBoundingClientRect.js":"xyzt","./getParentNode.js":"UMLJ","./contains.js":"Rusr","./getNodeName.js":"wFjk","../utils/rectToClientRect.js":"BAgT"}],"wjdI":[function(require,module,exports) {
"use strict";function e(e){return e.split("-")[1]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"vCjm":[function(require,module,exports) {
"use strict";function e(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"ZIs3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l;var e=i(require("./getBasePlacement.js")),t=i(require("./getVariation.js")),r=i(require("./getMainAxisFromPlacement.js")),a=require("../enums.js");function i(e){return e&&e.__esModule?e:{default:e}}function l(i){var l,u=i.reference,h=i.element,s=i.placement,n=s?(0,e.default)(s):null,o=s?(0,t.default)(s):null,c=u.x+u.width/2-h.width/2,d=u.y+u.height/2-h.height/2;switch(n){case a.top:l={x:c,y:u.y-h.height};break;case a.bottom:l={x:c,y:u.y+u.height};break;case a.right:l={x:u.x+u.width,y:d};break;case a.left:l={x:u.x-h.width,y:d};break;default:l={x:u.x,y:u.y}}var f=n?(0,r.default)(n):null;if(null!=f){var x="y"===f?"height":"width";switch(o){case a.start:l[f]=Math.floor(l[f])-Math.floor(u[x]/2-h[x]/2);break;case a.end:l[f]=Math.floor(l[f])+Math.ceil(u[x]/2-h[x]/2)}}return l}
},{"./getBasePlacement.js":"Og5Z","./getVariation.js":"wjdI","./getMainAxisFromPlacement.js":"vCjm","../enums.js":"cEz3"}],"f3wM":[function(require,module,exports) {
"use strict";function t(){return{top:0,right:0,bottom:0,left:0}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"GKpq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("./getFreshSideObject.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){return Object.assign(Object.assign({},(0,e.default)()),t)}
},{"./getFreshSideObject.js":"f3wM"}],"pYUm":[function(require,module,exports) {
"use strict";function e(e,t){return t.reduce(function(t,r){return t[r]=e,t},{})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"ATnW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a;var e=l(require("../dom-utils/getBoundingClientRect.js")),t=l(require("../dom-utils/getClippingRect.js")),r=l(require("../dom-utils/getDocumentElement.js")),o=l(require("./computeOffsets.js")),i=l(require("./rectToClientRect.js")),n=require("../enums.js"),p=require("../dom-utils/instanceOf.js"),s=l(require("./mergePaddingObject.js")),u=l(require("./expandToHashMap.js"));function l(e){return e&&e.__esModule?e:{default:e}}function a(l,a){void 0===a&&(a={});var d=a,f=d.placement,m=void 0===f?l.placement:f,c=d.boundary,g=void 0===c?n.clippingParents:c,b=d.rootBoundary,j=void 0===b?n.viewport:b,v=d.elementContext,q=void 0===v?n.popper:v,O=d.altBoundary,x=void 0!==O&&O,y=d.padding,h=void 0===y?0:y,C=(0,s.default)("number"!=typeof h?h:(0,u.default)(h,n.basePlacements)),E=q===n.popper?n.reference:n.popper,P=l.elements.reference,_=l.rects.popper,B=l.elements[x?E:q],M=(0,t.default)((0,p.isElement)(B)?B:B.contextElement||(0,r.default)(l.elements.popper),g,j),R=(0,e.default)(P),D=(0,o.default)({reference:R,element:_,strategy:"absolute",placement:m}),T=(0,i.default)(Object.assign(Object.assign({},_),D)),k=q===n.popper?T:R,w={top:M.top-k.top+C.top,bottom:k.bottom-M.bottom+C.bottom,left:M.left-k.left+C.left,right:k.right-M.right+C.right},H=l.modifiersData.offset;if(q===n.popper&&H){var z=H[m];Object.keys(w).forEach(function(e){var t=[n.right,n.bottom].indexOf(e)>=0?1:-1,r=[n.top,n.bottom].indexOf(e)>=0?"y":"x";w[e]+=z[r]*t})}return w}
},{"../dom-utils/getBoundingClientRect.js":"xyzt","../dom-utils/getClippingRect.js":"H9Ju","../dom-utils/getDocumentElement.js":"LRhK","./computeOffsets.js":"ZIs3","./rectToClientRect.js":"BAgT","../enums.js":"cEz3","../dom-utils/instanceOf.js":"mzFZ","./mergePaddingObject.js":"GKpq","./expandToHashMap.js":"pYUm"}],"RfHO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={popperGenerator:!0,createPopper:!0,detectOverflow:!0};exports.popperGenerator=O,Object.defineProperty(exports,"detectOverflow",{enumerable:!0,get:function(){return p.default}}),exports.createPopper=void 0;var t=v(require("./dom-utils/getCompositeRect.js")),r=v(require("./dom-utils/getLayoutRect.js")),o=v(require("./dom-utils/listScrollParents.js")),n=v(require("./dom-utils/getOffsetParent.js")),i=v(require("./dom-utils/getComputedStyle.js")),s=v(require("./utils/orderModifiers.js")),u=v(require("./utils/debounce.js")),a=v(require("./utils/validateModifiers.js")),f=v(require("./utils/uniqueBy.js")),d=v(require("./utils/getBasePlacement.js")),c=v(require("./utils/mergeByName.js")),p=v(require("./utils/detectOverflow.js")),l=require("./dom-utils/instanceOf.js"),m=require("./enums.js");function v(e){return e&&e.__esModule?e:{default:e}}Object.keys(m).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(exports,t,{enumerable:!0,get:function(){return m[t]}}))});var j="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",b="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",g={placement:"bottom",modifiers:[],strategy:"absolute"};function y(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function O(e){void 0===e&&(e={});var i=e,a=i.defaultModifiers,f=void 0===a?[]:a,d=i.defaultOptions,p=void 0===d?g:d;return function(e,i,a){void 0===a&&(a=p);var d={placement:"bottom",orderedModifiers:[],options:Object.assign(Object.assign({},g),p),modifiersData:{},elements:{reference:e,popper:i},attributes:{},styles:{}},m=[],v=!1,j={state:d,setOptions:function(t){b(),d.options=Object.assign(Object.assign(Object.assign({},p),d.options),t),d.scrollParents={reference:(0,l.isElement)(e)?(0,o.default)(e):e.contextElement?(0,o.default)(e.contextElement):[],popper:(0,o.default)(i)};var r=(0,s.default)((0,c.default)([].concat(f,d.options.modifiers)));return d.orderedModifiers=r.filter(function(e){return e.enabled}),d.orderedModifiers.forEach(function(e){var t=e.name,r=e.options,o=void 0===r?{}:r,n=e.effect;if("function"==typeof n){var i=n({state:d,name:t,instance:j,options:o});m.push(i||function(){})}}),j.update()},forceUpdate:function(){if(!v){var e=d.elements,o=e.reference,i=e.popper;if(y(o,i)){d.rects={reference:(0,t.default)(o,(0,n.default)(i),"fixed"===d.options.strategy),popper:(0,r.default)(i)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(e){return d.modifiersData[e.name]=Object.assign({},e.data)});for(var s=0;s<d.orderedModifiers.length;s++)if(!0!==d.reset){var u=d.orderedModifiers[s],a=u.fn,f=u.options,c=void 0===f?{}:f,p=u.name;"function"==typeof a&&(d=a({state:d,options:c,name:p,instance:j})||d)}else d.reset=!1,s=-1}}},update:(0,u.default)(function(){return new Promise(function(e){j.forceUpdate(),e(d)})}),destroy:function(){b(),v=!0}};if(!y(e,i))return j;function b(){m.forEach(function(e){return e()}),m=[]}return j.setOptions(a).then(function(e){!v&&a.onFirstUpdate&&a.onFirstUpdate(e)}),j}}var h=O();exports.createPopper=h;
},{"./dom-utils/getCompositeRect.js":"DX0n","./dom-utils/getLayoutRect.js":"ZXa8","./dom-utils/listScrollParents.js":"odmb","./dom-utils/getOffsetParent.js":"qRQD","./dom-utils/getComputedStyle.js":"m22s","./utils/orderModifiers.js":"Sa9b","./utils/debounce.js":"gpXp","./utils/validateModifiers.js":"qyXp","./utils/uniqueBy.js":"fRu5","./utils/getBasePlacement.js":"Og5Z","./utils/mergeByName.js":"dudY","./utils/detectOverflow.js":"ATnW","./dom-utils/instanceOf.js":"mzFZ","./enums.js":"cEz3"}],"k5OC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../dom-utils/getWindow.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r={passive:!0};function n(t){var n=t.state,s=t.instance,o=t.options,a=o.scroll,i=void 0===a||a,d=o.resize,u=void 0===d||d,c=(0,e.default)(n.elements.popper),l=[].concat(n.scrollParents.reference,n.scrollParents.popper);return i&&l.forEach(function(e){e.addEventListener("scroll",s.update,r)}),u&&c.addEventListener("resize",s.update,r),function(){i&&l.forEach(function(e){e.removeEventListener("scroll",s.update,r)}),u&&c.removeEventListener("resize",s.update,r)}}var s={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:n,data:{}};exports.default=s;
},{"../dom-utils/getWindow.js":"Mhix"}],"Umkk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../utils/computeOffsets.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){var r=t.state,a=t.name;r.modifiersData[a]=(0,e.default)({reference:r.rects.reference,element:r.rects.popper,strategy:"absolute",placement:r.placement})}var a={name:"popperOffsets",enabled:!0,phase:"read",fn:r,data:{}};exports.default=a;
},{"../utils/computeOffsets.js":"ZIs3"}],"nkcy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mapToStyles=l,exports.default=void 0;var e=require("../enums.js"),t=i(require("../dom-utils/getOffsetParent.js")),s=i(require("../dom-utils/getWindow.js")),a=i(require("../dom-utils/getDocumentElement.js")),o=i(require("../dom-utils/getComputedStyle.js")),r=i(require("../utils/getBasePlacement.js"));function i(e){return e&&e.__esModule?e:{default:e}}var p={top:"auto",right:"auto",bottom:"auto",left:"auto"};function n(e){var t=e.x,s=e.y,a=window.devicePixelRatio||1;return{x:Math.round(t*a)/a||0,y:Math.round(s*a)/a||0}}function l(o){var r,i=o.popper,l=o.popperRect,u=o.placement,c=o.offsets,d=o.position,f=o.gpuAcceleration,g=o.adaptive,m=n(c),b=m.x,j=m.y,O=c.hasOwnProperty("x"),v=c.hasOwnProperty("y"),x=e.left,y=e.top,h=window;if(g){var w=(0,t.default)(i);w===(0,s.default)(i)&&(w=(0,a.default)(i)),u===e.top&&(y=e.bottom,j-=w.clientHeight-l.height,j*=f?1:-1),u===e.left&&(x=e.right,b-=w.clientWidth-l.width,b*=f?1:-1)}var P,q=Object.assign({position:d},g&&p);return f?Object.assign(Object.assign({},q),{},((P={})[y]=v?"0":"",P[x]=O?"0":"",P.transform=(h.devicePixelRatio||1)<2?"translate("+b+"px, "+j+"px)":"translate3d("+b+"px, "+j+"px, 0)",P)):Object.assign(Object.assign({},q),{},((r={})[y]=v?j+"px":"",r[x]=O?b+"px":"",r.transform="",r))}function u(e){var t=e.state,s=e.options,a=s.gpuAcceleration,o=void 0===a||a,i=s.adaptive,p=void 0===i||i,n={placement:(0,r.default)(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign(Object.assign({},t.styles.popper),l(Object.assign(Object.assign({},n),{},{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:p})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign(Object.assign({},t.styles.arrow),l(Object.assign(Object.assign({},n),{},{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1})))),t.attributes.popper=Object.assign(Object.assign({},t.attributes.popper),{},{"data-popper-placement":t.placement})}var c={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:u,data:{}};exports.default=c;
},{"../enums.js":"cEz3","../dom-utils/getOffsetParent.js":"qRQD","../dom-utils/getWindow.js":"Mhix","../dom-utils/getDocumentElement.js":"LRhK","../dom-utils/getComputedStyle.js":"m22s","../utils/getBasePlacement.js":"Og5Z"}],"inKI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("../dom-utils/getNodeName.js")),t=require("../dom-utils/instanceOf.js");function s(e){return e&&e.__esModule?e:{default:e}}function r(s){var r=s.state;Object.keys(r.elements).forEach(function(s){var n=r.styles[s]||{},o=r.attributes[s]||{},a=r.elements[s];(0,t.isHTMLElement)(a)&&(0,e.default)(a)&&(Object.assign(a.style,n),Object.keys(o).forEach(function(e){var t=o[e];!1===t?a.removeAttribute(e):a.setAttribute(e,!0===t?"":t)}))})}function n(s){var r=s.state,n={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(r.elements.popper.style,n.popper),r.elements.arrow&&Object.assign(r.elements.arrow.style,n.arrow),function(){Object.keys(r.elements).forEach(function(s){var o=r.elements[s],a=r.attributes[s]||{},i=Object.keys(r.styles.hasOwnProperty(s)?r.styles[s]:n[s]).reduce(function(e,t){return e[t]="",e},{});(0,t.isHTMLElement)(o)&&(0,e.default)(o)&&(Object.assign(o.style,i),Object.keys(a).forEach(function(e){o.removeAttribute(e)}))})}}var o={name:"applyStyles",enabled:!0,phase:"write",fn:r,effect:n,requires:["computeStyles"]};exports.default=o;
},{"../dom-utils/getNodeName.js":"wFjk","../dom-utils/instanceOf.js":"mzFZ"}],"RVEs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"popperGenerator",{enumerable:!0,get:function(){return e.popperGenerator}}),Object.defineProperty(exports,"detectOverflow",{enumerable:!0,get:function(){return e.detectOverflow}}),exports.defaultModifiers=exports.createPopper=void 0;var e=require("./index.js"),r=p(require("./modifiers/eventListeners.js")),t=p(require("./modifiers/popperOffsets.js")),o=p(require("./modifiers/computeStyles.js")),i=p(require("./modifiers/applyStyles.js"));function p(e){return e&&e.__esModule?e:{default:e}}var s=[r.default,t.default,o.default,i.default];exports.defaultModifiers=s;var u=(0,e.popperGenerator)({defaultModifiers:s});exports.createPopper=u;
},{"./index.js":"RfHO","./modifiers/eventListeners.js":"k5OC","./modifiers/popperOffsets.js":"Umkk","./modifiers/computeStyles.js":"nkcy","./modifiers/applyStyles.js":"inKI"}],"PZEj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;var t={left:"right",right:"left",bottom:"top",top:"bottom"};function e(e){return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}
},{}],"mXkm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e={start:"end",end:"start"};function t(t){return t.replace(/start|end/g,function(t){return e[t]})}
},{}],"SK6l":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=a(require("./getVariation.js")),t=require("../enums.js"),r=a(require("./detectOverflow.js")),n=a(require("./getBasePlacement.js"));function a(e){return e&&e.__esModule?e:{default:e}}function u(a,u){void 0===u&&(u={});var o=u,i=o.placement,l=o.boundary,d=o.rootBoundary,s=o.padding,c=o.flipVariations,f=o.allowedAutoPlacements,m=void 0===f?t.placements:f,p=(0,e.default)(i),v=p?c?t.variationPlacements:t.variationPlacements.filter(function(t){return(0,e.default)(t)===p}):t.basePlacements,j=v.filter(function(e){return m.indexOf(e)>=0});0===j.length&&(j=v);var y=j.reduce(function(e,t){return e[t]=(0,r.default)(a,{placement:t,boundary:l,rootBoundary:d,padding:s})[(0,n.default)(t)],e},{});return Object.keys(y).sort(function(e,t){return y[e]-y[t]})}
},{"./getVariation.js":"wjdI","../enums.js":"cEz3","./detectOverflow.js":"ATnW","./getBasePlacement.js":"Og5Z"}],"fbts":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("../utils/getOppositePlacement.js")),t=o(require("../utils/getBasePlacement.js")),a=o(require("../utils/getOppositeVariationPlacement.js")),r=o(require("../utils/detectOverflow.js")),i=o(require("../utils/computeAutoPlacement.js")),n=require("../enums.js"),u=o(require("../utils/getVariation.js"));function o(e){return e&&e.__esModule?e:{default:e}}function l(r){if((0,t.default)(r)===n.auto)return[];var i=(0,e.default)(r);return[(0,a.default)(r),i,(0,a.default)(i)]}function s(a){var o=a.state,s=a.options,f=a.name;if(!o.modifiersData[f]._skip){for(var d=s.mainAxis,c=void 0===d||d,p=s.altAxis,m=void 0===p||p,v=s.fallbackPlacements,b=s.padding,g=s.boundary,y=s.rootBoundary,h=s.altBoundary,j=s.flipVariations,k=void 0===j||j,q=s.allowedAutoPlacements,P=o.options.placement,x=(0,t.default)(P),_=v||(x===P||!k?[(0,e.default)(P)]:l(P)),B=[P].concat(_).reduce(function(e,a){return e.concat((0,t.default)(a)===n.auto?(0,i.default)(o,{placement:a,boundary:g,rootBoundary:y,padding:b,flipVariations:k,allowedAutoPlacements:q}):a)},[]),w=o.rects.reference,A=o.rects.popper,O=new Map,V=!0,M=B[0],D=0;D<B.length;D++){var E=B[D],I=(0,t.default)(E),z=(0,u.default)(E)===n.start,C=[n.top,n.bottom].indexOf(I)>=0,F=C?"width":"height",G=(0,r.default)(o,{placement:E,boundary:g,rootBoundary:y,altBoundary:h,padding:b}),H=C?z?n.right:n.left:z?n.bottom:n.top;w[F]>A[F]&&(H=(0,e.default)(H));var J=(0,e.default)(H),K=[];if(c&&K.push(G[I]<=0),m&&K.push(G[H]<=0,G[J]<=0),K.every(function(e){return e})){M=E,V=!1;break}O.set(E,K)}if(V)for(var L=function(e){var t=B.find(function(t){var a=O.get(t);if(a)return a.slice(0,e).every(function(e){return e})});if(t)return M=t,"break"},N=k?3:1;N>0;N--){if("break"===L(N))break}o.placement!==M&&(o.modifiersData[f]._skip=!0,o.placement=M,o.reset=!0)}}var f={name:"flip",enabled:!0,phase:"main",fn:s,requiresIfExists:["offset"],data:{_skip:!1}};exports.default=f;
},{"../utils/getOppositePlacement.js":"PZEj","../utils/getBasePlacement.js":"Og5Z","../utils/getOppositeVariationPlacement.js":"mXkm","../utils/detectOverflow.js":"ATnW","../utils/computeAutoPlacement.js":"SK6l","../enums.js":"cEz3","../utils/getVariation.js":"wjdI"}],"mQr6":[function(require,module,exports) {
"use strict";function e(e){return"x"===e?"y":"x"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"D94x":[function(require,module,exports) {
"use strict";function e(e,t,r){return Math.max(e,Math.min(t,r))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"Yh4Q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../enums.js"),t=d(require("../utils/getBasePlacement.js")),r=d(require("../utils/getMainAxisFromPlacement.js")),a=d(require("../utils/getAltAxis.js")),i=d(require("../utils/within.js")),s=d(require("../dom-utils/getLayoutRect.js")),o=d(require("../dom-utils/getOffsetParent.js")),u=d(require("../utils/detectOverflow.js")),f=d(require("../utils/getVariation.js")),n=d(require("../utils/getFreshSideObject.js"));function d(e){return e&&e.__esModule?e:{default:e}}function l(d){var l=d.state,m=d.options,p=d.name,c=m.mainAxis,g=void 0===c||c,h=m.altAxis,j=void 0!==h&&h,v=m.boundary,y=m.rootBoundary,x=m.altBoundary,q=m.padding,w=m.tether,b=void 0===w||w,O=m.tetherOffset,D=void 0===O?0:O,A=(0,u.default)(l,{boundary:v,rootBoundary:y,padding:q,altBoundary:x}),B=(0,t.default)(l.placement),M=(0,f.default)(l.placement),P=!M,_=(0,r.default)(B),F=(0,a.default)(_),L=l.modifiersData.popperOffsets,E=l.rects.reference,I=l.rects.popper,R="function"==typeof D?D(Object.assign(Object.assign({},l.rects),{},{placement:l.placement})):D,S={x:0,y:0};if(L){if(g){var T="y"===_?e.top:e.left,V="y"===_?e.bottom:e.right,k="y"===_?"height":"width",z=L[_],C=L[_]+A[T],G=L[_]-A[V],H=b?-I[k]/2:0,J=M===e.start?E[k]:I[k],K=M===e.start?-I[k]:-E[k],N=l.elements.arrow,Q=b&&N?(0,s.default)(N):{width:0,height:0},U=l.modifiersData["arrow#persistent"]?l.modifiersData["arrow#persistent"].padding:(0,n.default)(),W=U[T],X=U[V],Y=(0,i.default)(0,E[k],Q[k]),Z=P?E[k]/2-H-Y-W-R:J-Y-W-R,$=P?-E[k]/2+H+Y+X+R:K+Y+X+R,ee=l.elements.arrow&&(0,o.default)(l.elements.arrow),te=ee?"y"===_?ee.clientTop||0:ee.clientLeft||0:0,re=l.modifiersData.offset?l.modifiersData.offset[l.placement][_]:0,ae=L[_]+Z-re-te,ie=L[_]+$-re,se=(0,i.default)(b?Math.min(C,ae):C,z,b?Math.max(G,ie):G);L[_]=se,S[_]=se-z}if(j){var oe="x"===_?e.top:e.left,ue="x"===_?e.bottom:e.right,fe=L[F],ne=fe+A[oe],de=fe-A[ue],le=(0,i.default)(ne,fe,de);L[F]=le,S[F]=le-fe}l.modifiersData[p]=S}}var m={name:"preventOverflow",enabled:!0,phase:"main",fn:l,requiresIfExists:["offset"]};exports.default=m;
},{"../enums.js":"cEz3","../utils/getBasePlacement.js":"Og5Z","../utils/getMainAxisFromPlacement.js":"vCjm","../utils/getAltAxis.js":"mQr6","../utils/within.js":"D94x","../dom-utils/getLayoutRect.js":"ZXa8","../dom-utils/getOffsetParent.js":"qRQD","../utils/detectOverflow.js":"ATnW","../utils/getVariation.js":"wjdI","../utils/getFreshSideObject.js":"f3wM"}],"FOZT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.notify=f,exports.gqlc=m,exports.notSafe=l,exports.template=a,exports.Handle=y,exports.Handler=b,exports.isValidText=i,exports.updateQueryStringParameter=c,exports.toggleText=g,exports.lang=exports.userIsAuthenticated=exports.createPopper=exports.one=exports.many=exports.cookies=void 0;var e=r(require("js-cookie")),t=require("@popperjs/core/lib/popper-lite"),o=r(require("@popperjs/core/lib/modifiers/flip")),n=r(require("@popperjs/core/lib/modifiers/preventOverflow"));function r(e){return e&&e.__esModule?e:{default:e}}const s=(0,t.popperGenerator)({defaultModifiers:[...t.defaultModifiers,o.default,n.default]});function i(e){return/^[A-Za-z0-9 ğçıöşüĞÇİÖŞÜ#&@()_+=':%/",.!?*~`[\]{}<>^;\\|-]+$/g.test(e.split(/[\r\n]+/).join())}function a(e){const t=document.createElement("template");return t.innerHTML=e.trim(),t.content.firstChild}function c(e,t,o){const n=new RegExp("([?&])"+t+"=.*?(&|$)","i"),r=-1!==e.indexOf("?")?"&":"?";return e.match(n)?e.replace(n,"$1"+t+"="+o+"$2"):e+r+t+"="+o}exports.createPopper=s;const d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function l(e){return String(e).replace(/[&<>"'`=/]/g,function(e){return d[e]})}let p=0;function u(e){return new Promise(t=>setTimeout(t,e))}async function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1800,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=document.querySelector(".toast-holder"),s=o+1e3*p,i=a('\n        <div role="alert" aria-live="assertive" aria-atomic="true" class="toast fade showing">\n            <div class="toast-body '.concat(t,'">\n                <div class="toast-content">\n                    <span>').concat(e,"</span>\n                    ").concat(n?'<button type="button" class="ml-2 close" data-dismiss="toast" aria-label="'.concat(gettext("Close"),'"><span aria-hidden="true">&times;</span></button>'):"","\n                </div>\n            </div>\n        </div>"));r.prepend(i),n&&i.addEventListener("click",async e=>{e.target.closest("[data-dismiss=toast]")&&(i.classList.remove("show"),await u(100),i.remove())}),await u(0),i.classList.add("show"),n||(p+=1,await u(s),i.classList.remove("show"),p-=1,await u(100),i.remove())}function m(t){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gettext("something went wrong");const r={method:"POST",headers:new Headers({"Content-Type":"application/json","X-CSRFToken":e.default.get("csrftoken")}),mode:"same-origin",body:JSON.stringify(t)},s=()=>(o||f(n,"error"),{errors:[n]});return fetch("/graphql/",r).then(e=>e.ok?e.json():s()).catch(()=>s())}const x=e.default.withConverter({read:e=>decodeURIComponent(e),write:e=>encodeURIComponent(e)}).withAttributes({sameSite:"Lax"});function g(e,t,o){e.textContent=e.textContent===o?t:o}exports.cookies=x;const v=document.querySelectorAll.bind(document);exports.many=v;const h=document.querySelector.bind(document);exports.one=h;const w=e=>"string"==typeof e||e instanceof String;function y(e,t,o){if(w(e)&&(e=h(e)),e){for(var n=arguments.length,r=new Array(n>3?n-3:0),s=3;s<n;s++)r[s-3]=arguments[s];e.addEventListener(t,o,...r)}}function b(e,t,o){for(var n=arguments.length,r=new Array(n>3?n-3:0),s=3;s<n;s++)r[s-3]=arguments[s];w(e)&&(e=v(e)),e.forEach(e=>{e.addEventListener(t,o,...r)})}const S="au"===h("body").id;exports.userIsAuthenticated=S;const q=document.documentElement.lang;exports.lang=q;
},{"js-cookie":"IWbl","@popperjs/core/lib/popper-lite":"RVEs","@popperjs/core/lib/modifiers/flip":"fbts","@popperjs/core/lib/modifiers/preventOverflow":"Yh4Q"}],"BJB9":[function(require,module,exports) {
"use strict";var t=require("../utils");function e(t,e,s){return t.replace(new RegExp(e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),"g"),s)}class s{constructor(e){this.input=e.input,this.lookup=e.lookup,this.onSelect=e.onSelect,this.popper=null,this.selected=null,this.showing=!1;const s="id_".concat(this.input.id);this.template=(0,t.template)('<ul role="listbox" class="autocomplete" id="'.concat(s,'"></ul>')),this.input.parentNode.append(this.template),this.input.setAttribute("role","combobox"),this.input.setAttribute("aria-owns",s),this.input.setAttribute("aria-autocomplete","list"),this.input.setAttribute("aria-expanded","false"),this.input.addEventListener("input",()=>{const e=this.input.value.toLocaleLowerCase(t.lang).trim();this.selected=null,e?this.suggest(e):this.showing&&this.destroy()}),this.input.addEventListener("focusout",()=>{setTimeout(()=>{this.destroy()},200)}),this.input.addEventListener("keydown",t=>{if(["ArrowUp","ArrowDown","Escape","Enter","Tab"].includes(t.key)){switch(this.selected&&this.selected.classList.remove("selected"),t.key){case"ArrowUp":{const e=this.template.lastChild;this.selected=this.selected&&this.selected.previousElementSibling||e,this.selected.classList.contains("no-results")||t.preventDefault();break}case"ArrowDown":{const t=this.template.firstChild;this.selected=this.selected&&this.selected.nextElementSibling||t;break}case"Escape":this.destroy();break;case"Enter":this.selected&&(t.preventDefault(),this.triggerOnSelect(this.selected));break;case"Tab":this.selected&&this.triggerOnSelect(this.selected)}this.selected&&!this.selected.classList.contains("no-results")&&(this.selected.classList.add("selected"),this.input.value=this.selected.textContent,this.input.setAttribute("aria-activedescendant",this.selected.id))}}),this.template.addEventListener("click",t=>{t.stopPropagation(),this.triggerOnSelect(t.target)}),this.template.addEventListener("mouseover",t=>{"LI"!==t.target.tagName||t.target.classList.contains("no-results")||(Array.from(this.template.childNodes).forEach(e=>e!==t.target&&e.classList.remove("selected")),this.selected=t.target,this.selected.classList.add("selected"))})}suggest(s){this.lookup(s).then(i=>{this.popper||(this.popper=this.create());const a=i.map(i=>({name:e((0,t.notSafe)(i.name),s,"<mark>".concat((0,t.notSafe)(s),"</mark>")),value:(0,t.notSafe)(i.value)}));if(a.length){this.template.innerHTML="";for(const[t,e]of a.entries())this.template.innerHTML+='<li role="option" data-value="'.concat(e.value,'" id="cb-opt-').concat(t,'">').concat(e.name,"</li>")}else this.template.querySelector(".no-results")||(this.template.innerHTML='<li role="alert" aria-live="assertive" class=\'no-results\'>'.concat(gettext("-- no corresponding results --"),"</li>"));this.showing=!0,this.template.style.display="block",this.input.setAttribute("aria-expanded","true")})}destroy(){this.popper&&(this.input.setAttribute("aria-expanded","false"),this.template.style.display="none",this.template.innerHTML="",this.selected=null,this.showing=!1,this.popper.destroy(),this.popper=null)}create(){return(0,t.createPopper)(this.input,this.template,{placement:"bottom-start"})}triggerOnSelect(t){if(t.classList.contains("no-results"))return;this.destroy(),this.input.value=t.textContent;const e=t.getAttribute("data-value");e&&this.onSelect&&this.onSelect(e)}}const i="query($lookup:String!){autocomplete{authors(lookup:$lookup){username}}}";new s({input:(0,t.one)("#header_search"),lookup:e=>e.startsWith("@")&&e.substr(1)?(0,t.gqlc)({query:i,variables:{lookup:e.substr(1)}}).then(t=>t.data.autocomplete.authors.map(t=>({name:"@".concat(t.username),value:"@".concat(t.username)}))):(0,t.gqlc)({query:"query($lookup:String!){autocomplete{authors(lookup:$lookup,limit:3){username}topics(lookup:$lookup,limit:7){title}}}",variables:{lookup:e}}).then(t=>{const e=t.data.autocomplete.topics.map(t=>({name:t.title,value:t.title})),s=t.data.autocomplete.authors.map(t=>({name:"@".concat(t.username),value:"@".concat(t.username)}));return e.concat(s)}),onSelect(t){window.location="/topic/?q="+encodeURIComponent(t)}}),(0,t.many)(".author-search").forEach(e=>{new s({input:e,lookup:e=>(0,t.gqlc)({query:i,variables:{lookup:e}}).then(t=>t.data.autocomplete.authors.map(t=>({name:t.username,value:t.username})))})});
},{"../utils":"FOZT"}],"yfn7":[function(require,module,exports) {
"use strict";var t=require("../utils");const e=()=>Array.from((0,t.many)("[data-toggle=dropdown]")).filter(t=>t._dropdownInstance&&t._dropdownInstance.popper);class n{constructor(t){this.button=t,this.menuElement=t.parentNode.querySelector(".dropdown-menu"),this.popper=null}create(){const n=this.menuElement.getAttribute("data-orientation")||"bottom-end";return e().forEach(t=>t._dropdownInstance.destroy()),(0,t.createPopper)(this.button,this.menuElement,{placement:n,modifiers:[{name:"offset",options:{offset:[0,1]}}]})}toggle(){"block"!==this.menuElement.style.display?(this.popper||(this.popper=this.create()),this.menuElement.style.display="block",this.button.setAttribute("aria-expanded","true")):this.destroy()}destroy(){this.menuElement.style.display="none",this.button.setAttribute("aria-expanded","false"),this.popper&&(this.popper.destroy(),this.popper=null)}}function o(){const[t]=e();return t?t._dropdownInstance:null}(0,t.Handler)("[data-toggle=dropdown]","click",function(){this._dropdownInstance||(this._dropdownInstance=new n(this)),this._dropdownInstance.toggle()}),(0,t.Handle)(document,"keydown",e=>{if("Escape"===e.key){const e=o();if(e)e.destroy();else{const e=(0,t.one)(".modal.show");e&&e._modalInstance.hide()}}}),(0,t.Handle)(document,"click",t=>{const e=o();if(e){const n=e.menuElement.classList.contains("no-collapse")&&e.menuElement===t.target.closest(".dropdown-menu");(t.target.classList.contains("dropdown-close")||e.button!==t.target.closest("[data-toggle=dropdown]")&&!n)&&e.destroy()}});
},{"../utils":"FOZT"}],"wHs2":[function(require,module,exports) {
"use strict";var e=require("../utils");class t{constructor(e){this.modal=e,this.showing=!1,this.lead=e.querySelector(".lead"),e.addEventListener("click",e=>{e.target.closest(".modal-content")&&!e.target.closest("[data-dismiss=modal]")||this.hide()});const t=e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),s=t[0],i=t[t.length-1];e.addEventListener("keydown",e=>{"Tab"===e.key&&(e.shiftKey?document.activeElement===s&&(i.focus(),e.preventDefault()):document.activeElement===i&&(s.focus(),e.preventDefault()))})}show(){this.showing=!0,this.modal.removeAttribute("aria-hidden"),this.modal.classList.add("showing"),this.modal.style.display="block",setTimeout(()=>{this.modal.classList.add("show"),this.lead.focus()},0)}hide(){if(!this.showing)return!1;const e=this.modal;e.classList.remove("show"),new Promise(t=>{e.addEventListener("transitionend",function s(i){i.target===e&&t(s)})}).then(t=>{e.removeEventListener("transitionend",t),e.style.display="none",e.classList.remove("showing"),e.setAttribute("aria-hidden","true")})}}(0,e.many)(".modal[role=dialog]").forEach(e=>{e._modalInstance=new t(e)});
},{"../utils":"FOZT"}],"FoEN":[function(require,module,exports) {
"use strict";var e=require("./utils");(0,e.Handle)("select.page-selector","change",function(){window.location=(0,e.updateQueryStringParameter)(location.href,"page",this.value)}),(0,e.Handle)("form.search_mobile, form.reporting-form","submit",function(){return Array.from(this.querySelectorAll("input")).filter(e=>"checkbox"===e.type&&!e.checked||""===e.value).forEach(e=>{e.disabled=!0}),!1}),(0,e.Handler)("[data-toggle=collapse]","click",function(){this.closest("div").parentNode.querySelector(".collapse").classList.toggle("show"),"false"===this.getAttribute("aria-expanded")?this.setAttribute("aria-expanded","true"):this.setAttribute("aria-expanded","false")});
},{"./utils":"FOZT"}],"lL3F":[function(require,module,exports) {
"use strict";var e=require("./utils");(0,e.Handle)("body","keypress",e=>{!e.target.matches("[role=button], .key-clickable")||" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),e.target.dispatchEvent(new Event("click")))}),(0,e.Handle)(".content-skipper","click",function(){location.replace(this.getAttribute("data-href"))}),(0,e.Handler)("input.is-invalid","input",function(){this.classList.remove("is-invalid")}),(0,e.Handler)("textarea.expandable","focus",function(){this.style.height="".concat(this.offsetHeight+150,"px"),(0,e.Handle)(this,"transitionend",()=>{this.style.transition="none"})},{once:!0}),(0,e.Handler)("textarea#user_content_edit, textarea#message-body","input",function(){window.onbeforeunload=(()=>this.value||null)}),(0,e.Handler)("form","submit",function(t){window.onbeforeunload=null;const n=this.querySelector("#user_content_edit");if(n&&n.value&&!(0,e.isValidText)(n.value))return(0,e.notify)(gettext("this content includes forbidden characters."),"error"),window.onbeforeunload=(()=>!0),t.preventDefault(),!1});
},{"./utils":"FOZT"}],"WanD":[function(require,module,exports) {
"use strict";var t=require("./utils");function e(e,o){return(0,t.gqlc)({query:"mutation{category{".concat(e,'(pk:"').concat(o,'"){feedback}}}')})}(0,t.Handler)("button.follow-category-trigger","click",function(){e("follow",this.getAttribute("data-category-id")).then(()=>{(0,t.toggleText)(this,pgettext("category-list","unfollow"),pgettext("category-list","follow")),this.classList.toggle("faded")})});
},{"./utils":"FOZT"}],"xXjY":[function(require,module,exports) {
"use strict";var e=require("./utils");function t(e){const t=[];return e.forEach(e=>{t.push(e.getAttribute("data-id"))}),t}function n(e){let t=e.closest("li.chat");return t||(t=e.parentNode),t}function a(t,n){const a={pkSet:t,mode:n};return(0,e.gqlc)({query:"mutation($pkSet:[ID!]!, $mode:String){message{deleteConversation(pkSet:$pkSet,mode:$mode){redirect}}}",variables:a})}function o(t){const n={pkSet:t};return(0,e.gqlc)({query:"mutation($pkSet:[ID!]!){message{archiveConversation(pkSet:$pkSet){redirect}}}",variables:n})}(0,e.Handle)("a#message_history_show","click",function(){(0,e.many)("ul#message_list li.bubble").forEach(e=>{e.style.display="list-item"}),this.classList.add("dj-hidden")}),(0,e.Handle)("a[role=button].chat-reverse","click",()=>{(0,e.many)("input.chat-selector").forEach(e=>{e.checked=!e.checked,e.dispatchEvent(new Event("change"))})}),(0,e.Handler)("input.chat-selector","change",function(){this.closest("li.chat").classList.toggle("selected")}),(0,e.Handler)("a[role=button].chat-delete-individual","click",function(){if(!confirm(gettext("are you sure to delete?")))return!1;const t=n(this),o=((0,e.one)("ul.threads")||t).getAttribute("data-mode");a(t.getAttribute("data-id"),o).then(n=>{const a=n.data.message.deleteConversation;a&&((0,e.many)("li.chat").length>1?(t.remove(),(0,e.notify)(gettext("deleted conversation"))):window.location=a.redirect)})}),(0,e.Handle)("a[role=button].chat-delete","click",()=>{const n=(0,e.many)("li.chat.selected");if(n.length){if(!confirm(gettext("are you sure to delete all selected conversations?")))return!1;a(t(n),(0,e.one)("ul.threads").getAttribute("data-mode")).then(e=>{const t=e.data.message.deleteConversation;t&&(window.location=t.redirect)})}else(0,e.notify)(gettext("you need to select at least one conversation to delete"),"error")}),(0,e.Handle)("a[role=button].chat-archive","click",()=>{const n=(0,e.many)("li.chat.selected");if(n.length){if(!confirm(gettext("are you sure to archive all selected conversations?")))return!1;o(t(n)).then(e=>{const t=e.data.message.archiveConversation;t&&(window.location=t.redirect)})}else(0,e.notify)(gettext("you need to select at least one conversation to archive"),"error")}),(0,e.Handler)("a[role=button].chat-archive-individual","click",function(){if(!confirm(gettext("are you sure to archive?")))return!1;const t=n(this);o(t.getAttribute("data-id")).then(n=>{const a=n.data.message.archiveConversation;a&&((0,e.many)("li.chat").length>1?(t.remove(),(0,e.notify)(gettext("archived conversation"))):window.location=a.redirect)})});
},{"./utils":"FOZT"}],"pVzr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.deleteImage=t;var e=require("./utils");function t(t){return(0,e.gqlc)({query:"mutation($slug:String!){image{delete(slug:$slug){feedback}}}",variables:{slug:t}})}(0,e.Handle)(document,"click",t=>{const a=t.target;if(a.matches(".entry a[data-img], .text-formatted a[data-img]")){if(a.hasAttribute("data-loaded"))a.nextElementSibling.classList.toggle("d-none"),a.nextElementSibling.nextElementSibling.classList.toggle("d-none");else{const t=a.parentNode;t.style.maxHeight="none";const l=t.querySelector(".read_more");l&&(l.style.display="none");const i=a.getAttribute("data-img"),n=(0,e.template)('<img src="'.concat(i,'" alt="image" class="img-thumbnail img-fluid" draggable="false">')),o=(0,e.template)('<a rel="ugc nofollow noopener" title="'.concat(gettext("open full image in new tab"),'" href="').concat(i,'" target="_blank" class="ml-3 position-relative" style="top: 3px;"></a>'));a.after(o),o.after(n)}a.setAttribute("data-loaded","true")}}),(0,e.Handler)("a[role=button].delete-image","click",function(){if(confirm(gettext("Are you sure?"))){const e=this.closest(".image-detail");t(e.getAttribute("data-slug")),e.remove()}});
},{"./utils":"FOZT"}],"knkU":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=o();return function(){var n,i=s(e);if(t){var a=s(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r(this,n)}}function r(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?a(t):n}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}var f=function(){function e(){d(this,e)}return h(e,[{key:"on",value:function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this}},{key:"emit",value:function(e){this._callbacks=this._callbacks||{};var t=this._callbacks[e];if(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var a,o=l(t);try{for(o.s();!(a=o.n()).done;){a.value.apply(this,i)}}catch(s){o.e(s)}finally{o.f()}}return this}},{key:"off",value:function(e,t){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(var i=0;i<n.length;i++){if(n[i]===t){n.splice(i,1);break}}return this}}]),e}(),m=function(e){t(o,f);var n=i(o);function o(e,t){var i,s,l;if(d(this,o),(i=n.call(this)).element=e,i.version=o.version,i.defaultOptions.previewTemplate=i.defaultOptions.previewTemplate.replace(/\n*/g,""),i.clickableElements=[],i.listeners=[],i.files=[],"string"==typeof i.element&&(i.element=document.querySelector(i.element)),!i.element||null==i.element.nodeType)throw new Error("Invalid dropzone element.");if(i.element.dropzone)throw new Error("Dropzone already attached.");o.instances.push(a(i)),i.element.dropzone=a(i);var u=null!=(l=o.optionsForElement(i.element))?l:{};if(i.options=o.extend({},i.defaultOptions,u,null!=t?t:{}),i.options.forceFallback||!o.isBrowserSupported())return r(i,i.options.fallback.call(a(i)));if(null==i.options.url&&(i.options.url=i.element.getAttribute("action")),!i.options.url)throw new Error("No URL provided.");if(i.options.acceptedFiles&&i.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(i.options.uploadMultiple&&i.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return i.options.acceptedMimeTypes&&(i.options.acceptedFiles=i.options.acceptedMimeTypes,delete i.options.acceptedMimeTypes),null!=i.options.renameFilename&&(i.options.renameFile=function(e){return i.options.renameFilename.call(a(i),e.name,e)}),"string"==typeof i.options.method&&(i.options.method=i.options.method.toUpperCase()),(s=i.getExistingFallback())&&s.parentNode&&s.parentNode.removeChild(s),!1!==i.options.previewsContainer&&(i.options.previewsContainer?i.previewsContainer=o.getElement(i.options.previewsContainer,"previewsContainer"):i.previewsContainer=i.element),i.options.clickable&&(!0===i.options.clickable?i.clickableElements=[i.element]:i.clickableElements=o.getElements(i.options.clickable,"clickable")),i.init(),i}return h(o,null,[{key:"initClass",value:function(){this.prototype.Emitter=f,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(e,t,n){if(n)return{dzuuid:n.file.upload.uuid,dzchunkindex:n.index,dztotalfilesize:n.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:n.file.upload.totalChunkCount,dzchunkbyteoffset:n.index*this.options.chunkSize}},accept:function(e,t){return t()},chunksUploaded:function(e,t){t()},fallback:function(){var e;this.element.className="".concat(this.element.className," dz-browser-not-supported");var t,n=l(this.element.getElementsByTagName("div"));try{for(n.s();!(t=n.n()).done;){var i=t.value;if(/(^| )dz-message($| )/.test(i.className)){e=i,i.className="dz-message";break}}}catch(a){n.e(a)}finally{n.f()}e||(e=o.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e));var r=e.getElementsByTagName("span")[0];return r&&(null!=r.textContent?r.textContent=this.options.dictFallbackMessage:null!=r.innerText&&(r.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e,t,n,i){var r={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},a=e.width/e.height;null==t&&null==n?(t=r.srcWidth,n=r.srcHeight):null==t?t=n*a:null==n&&(n=t/a);var o=(t=Math.min(t,r.srcWidth))/(n=Math.min(n,r.srcHeight));if(r.srcWidth>t||r.srcHeight>n)if("crop"===i)a>o?(r.srcHeight=e.height,r.srcWidth=r.srcHeight*o):(r.srcWidth=e.width,r.srcHeight=r.srcWidth/o);else{if("contain"!==i)throw new Error("Unknown resizeMethod '".concat(i,"'"));a>o?n=t/a:t=n*a}return r.srcX=(e.width-r.srcWidth)/2,r.srcY=(e.height-r.srcHeight)/2,r.trgWidth=t,r.trgHeight=n,r},transformFile:function(e,t){return(this.options.resizeWidth||this.options.resizeHeight)&&e.type.match(/image.*/)?this.resizeImage(e,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,t):t(e)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <title>Check</title>\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <title>Error</title>\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:function(e){},dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:function(e){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var t=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){e.previewElement=o.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement);var n,i=l(e.previewElement.querySelectorAll("[data-dz-name]"));try{for(i.s();!(n=i.n()).done;){var r=n.value;r.textContent=e.name}}catch(p){i.e(p)}finally{i.f()}var a,s=l(e.previewElement.querySelectorAll("[data-dz-size]"));try{for(s.s();!(a=s.n()).done;)(r=a.value).innerHTML=this.filesize(e.size)}catch(p){s.e(p)}finally{s.f()}this.options.addRemoveLinks&&(e._removeLink=o.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'.concat(this.options.dictRemoveFile,"</a>")),e.previewElement.appendChild(e._removeLink));var u,c=function(n){return n.preventDefault(),n.stopPropagation(),e.status===o.UPLOADING?o.confirm(t.options.dictCancelUploadConfirmation,function(){return t.removeFile(e)}):t.options.dictRemoveFileConfirmation?o.confirm(t.options.dictRemoveFileConfirmation,function(){return t.removeFile(e)}):t.removeFile(e)},d=l(e.previewElement.querySelectorAll("[data-dz-remove]"));try{for(d.s();!(u=d.n()).done;){u.value.addEventListener("click",c)}}catch(p){d.e(p)}finally{d.f()}}},removedfile:function(e){return null!=e.previewElement&&null!=e.previewElement.parentNode&&e.previewElement.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){if(e.previewElement){e.previewElement.classList.remove("dz-file-preview");var n,i=l(e.previewElement.querySelectorAll("[data-dz-thumbnail]"));try{for(i.s();!(n=i.n()).done;){var r=n.value;r.alt=e.name,r.src=t}}catch(a){i.e(a)}finally{i.f()}return setTimeout(function(){return e.previewElement.classList.add("dz-image-preview")},1)}},error:function(e,t){if(e.previewElement){e.previewElement.classList.add("dz-error"),"string"!=typeof t&&t.error&&(t=t.error);var n,i=l(e.previewElement.querySelectorAll("[data-dz-errormessage]"));try{for(i.s();!(n=i.n()).done;){n.value.textContent=t}}catch(r){i.e(r)}finally{i.f()}}},errormultiple:function(){},processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(e,t,n){if(e.previewElement){var i,r=l(e.previewElement.querySelectorAll("[data-dz-uploadprogress]"));try{for(r.s();!(i=r.n()).done;){var a=i.value;"PROGRESS"===a.nodeName?a.value=t:a.style.width="".concat(t,"%")}}catch(o){r.e(o)}finally{r.f()}}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(e){return this.emit("error",e,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(e){if(e._removeLink&&(e._removeLink.innerHTML=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(var r=0,a=n;r<a.length;r++){var o=a[r];for(var s in o){var l=o[s];e[s]=l}}return e}}]),h(o,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(e){return e.accepted}).map(function(e){return e})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(e){return!e.accepted}).map(function(e){return e})}},{key:"getFilesWithStatus",value:function(e){return this.files.filter(function(t){return t.status===e}).map(function(e){return e})}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(o.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(o.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(o.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(e){return e.status===o.UPLOADING||e.status===o.QUEUED}).map(function(e){return e})}},{key:"init",value:function(){var e=this;if("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(o.createElement('<div class="dz-default dz-message"><button class="dz-button" type="button">'.concat(this.options.dictDefaultMessage,"</button></div>"))),this.clickableElements.length){!function t(){return e.hiddenFileInput&&e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null===e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!==e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),null!==e.options.capture&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",o.getElement(e.options.hiddenInputContainer,"hiddenInputContainer").appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",function(){var n=e.hiddenFileInput.files;if(n.length){var i,r=l(n);try{for(r.s();!(i=r.n()).done;){var a=i.value;e.addFile(a)}}catch(o){r.e(o)}finally{r.f()}}return e.emit("addedfiles",n),t()})}()}this.URL=null!==window.URL?window.URL:window.webkitURL;var t,n=l(this.events);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.on(i,this.options[i])}}catch(a){n.e(a)}finally{n.f()}this.on("uploadprogress",function(){return e.updateTotalUploadProgress()}),this.on("removedfile",function(){return e.updateTotalUploadProgress()}),this.on("canceled",function(t){return e.emit("complete",t)}),this.on("complete",function(t){if(0===e.getAddedFiles().length&&0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length)return setTimeout(function(){return e.emit("queuecomplete")},0)});var r=function(e){if(function(e){if(e.dataTransfer.types)for(var t=0;t<e.dataTransfer.types.length;t++)if("Files"===e.dataTransfer.types[t])return!0;return!1}(e))return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(t){return e.emit("dragstart",t)},dragenter:function(t){return r(t),e.emit("dragenter",t)},dragover:function(t){var n;try{n=t.dataTransfer.effectAllowed}catch(i){}return t.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",r(t),e.emit("dragover",t)},dragleave:function(t){return e.emit("dragleave",t)},drop:function(t){return r(t),e.drop(t)},dragend:function(t){return e.emit("dragend",t)}}}],this.clickableElements.forEach(function(t){return e.listeners.push({element:t,events:{click:function(n){return(t!==e.element||n.target===e.element||o.elementInside(n.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),(null!=this.hiddenFileInput?this.hiddenFileInput.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,o.instances.splice(o.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var e,t=0,n=0;if(this.getActiveFiles().length){var i,r=l(this.getActiveFiles());try{for(r.s();!(i=r.n()).done;){var a=i.value;t+=a.upload.bytesSent,n+=a.upload.total}}catch(o){r.e(o)}finally{r.f()}e=100*t/n}else e=100;return this.emit("totaluploadprogress",e,n,t)}},{key:"_getParamName",value:function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):"".concat(this.options.paramName).concat(this.options.uploadMultiple?"[".concat(e,"]"):"")}},{key:"_renameFile",value:function(e){return"function"!=typeof this.options.renameFile?e.name:this.options.renameFile(e)}},{key:"getFallbackForm",value:function(){var e,t;if(e=this.getExistingFallback())return e;var n='<div class="dz-fallback">';this.options.dictFallbackText&&(n+="<p>".concat(this.options.dictFallbackText,"</p>")),n+='<input type="file" name="'.concat(this._getParamName(0),'" ').concat(this.options.uploadMultiple?'multiple="multiple"':void 0,' /><input type="submit" value="Upload!"></div>');var i=o.createElement(n);return"FORM"!==this.element.tagName?(t=o.createElement('<form action="'.concat(this.options.url,'" enctype="multipart/form-data" method="').concat(this.options.method,'"></form>'))).appendChild(i):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=t?t:i}},{key:"getExistingFallback",value:function(){for(var e=function(e){var t,n=l(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(/(^| )fallback($| )/.test(i.className))return i}}catch(r){n.e(r)}finally{n.f()}},t=0,n=["div","form"];t<n.length;t++){var i,r=n[t];if(i=e(this.element.getElementsByTagName(r)))return i}}},{key:"setupEventListeners",value:function(){return this.listeners.map(function(e){return function(){var t=[];for(var n in e.events){var i=e.events[n];t.push(e.element.addEventListener(n,i,!1))}return t}()})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(e){return function(){var t=[];for(var n in e.events){var i=e.events[n];t.push(e.element.removeEventListener(n,i,!1))}return t}()})}},{key:"disable",value:function(){var e=this;return this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(t){return e.cancelUpload(t)})}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function(e){var t=0,n="b";if(e>0){for(var i=["tb","gb","mb","kb","b"],r=0;r<i.length;r++){var a=i[r];if(e>=Math.pow(this.options.filesizeBase,4-r)/10){t=e/Math.pow(this.options.filesizeBase,4-r),n=a;break}}t=Math.round(10*t)/10}return"<strong>".concat(t,"</strong> ").concat(this.options.dictFileSizeUnits[n])}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(e){if(e.dataTransfer){this.emit("drop",e);for(var t=[],n=0;n<e.dataTransfer.files.length;n++)t[n]=e.dataTransfer.files[n];if(t.length){var i=e.dataTransfer.items;i&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(t)}this.emit("addedfiles",t)}}},{key:"paste",value:function(e){if(null!=w(null!=e?e.clipboardData:void 0,function(e){return e.items})){this.emit("paste",e);var t=e.clipboardData.items;return t.length?this._addFilesFromItems(t):void 0}}},{key:"handleFiles",value:function(e){var t,n=l(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.addFile(i)}}catch(r){n.e(r)}finally{n.f()}}},{key:"_addFilesFromItems",value:function(e){var t=this;return function(){var n,i=[],r=l(e);try{for(r.s();!(n=r.n()).done;){var a,o=n.value;null!=o.webkitGetAsEntry&&(a=o.webkitGetAsEntry())?a.isFile?i.push(t.addFile(o.getAsFile())):a.isDirectory?i.push(t._addFilesFromDirectory(a,a.name)):i.push(void 0):null!=o.getAsFile&&(null==o.kind||"file"===o.kind)?i.push(t.addFile(o.getAsFile())):i.push(void 0)}}catch(s){r.e(s)}finally{r.f()}return i}()}},{key:"_addFilesFromDirectory",value:function(e,t){var n=this,i=e.createReader(),r=function(e){return E(console,"log",function(t){return t.log(e)})};return function e(){return i.readEntries(function(i){if(i.length>0){var r,a=l(i);try{for(a.s();!(r=a.n()).done;){var o=r.value;o.isFile?o.file(function(e){if(!n.options.ignoreHiddenFiles||"."!==e.name.substring(0,1))return e.fullPath="".concat(t,"/").concat(e.name),n.addFile(e)}):o.isDirectory&&n._addFilesFromDirectory(o,"".concat(t,"/").concat(o.name))}}catch(s){a.e(s)}finally{a.f()}e()}return null},r)}()}},{key:"accept",value:function(e,t){this.options.maxFilesize&&e.size>1024*this.options.maxFilesize*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):o.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)}},{key:"addFile",value:function(e){var t=this;e.upload={uuid:o.uuidv4(),progress:0,total:e.size,bytesSent:0,filename:this._renameFile(e)},this.files.push(e),e.status=o.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,function(n){n?(e.accepted=!1,t._errorProcessing([e],n)):(e.accepted=!0,t.options.autoQueue&&t.enqueueFile(e)),t._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(e){var t,n=l(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.enqueueFile(i)}}catch(r){n.e(r)}finally{n.f()}return null}},{key:"enqueueFile",value:function(e){var t=this;if(e.status!==o.ADDED||!0!==e.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=o.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return t.processQueue()},0)}},{key:"_enqueueThumbnail",value:function(e){var t=this;if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout(function(){return t._processThumbnailQueue()},0)}},{key:"_processThumbnailQueue",value:function(){var e=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var t=this._thumbnailQueue.shift();return this.createThumbnail(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(n){return e.emit("thumbnail",t,n),e._processingThumbnail=!1,e._processThumbnailQueue()})}}},{key:"removeFile",value:function(e){if(e.status===o.UPLOADING&&this.cancelUpload(e),this.files=v(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(e){null==e&&(e=!1);var t,n=l(this.files.slice());try{for(n.s();!(t=n.n()).done;){var i=t.value;(i.status!==o.UPLOADING||e)&&this.removeFile(i)}}catch(r){n.e(r)}finally{n.f()}return null}},{key:"resizeImage",value:function(e,t,n,i,r){var a=this;return this.createThumbnail(e,t,n,i,!0,function(t,n){if(null==n)return r(e);var i=a.options.resizeMimeType;null==i&&(i=e.type);var s=n.toDataURL(i,a.options.resizeQuality);return"image/jpeg"!==i&&"image/jpg"!==i||(s=b.restore(e.dataURL,s)),r(o.dataURItoBlob(s))})}},{key:"createThumbnail",value:function(e,t,n,i,r,a){var o=this,s=new FileReader;s.onload=function(){e.dataURL=s.result,"image/svg+xml"!==e.type?o.createThumbnailFromUrl(e,t,n,i,r,a):null!=a&&a(s.result)},s.readAsDataURL(e)}},{key:"displayExistingFile",value:function(e,t,n,i){var r=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this.emit("addedfile",e),this.emit("complete",e),a){e.dataURL=t,this.createThumbnailFromUrl(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.resizeMethod,this.options.fixOrientation,function(t){r.emit("thumbnail",e,t),n&&n()},i)}else this.emit("thumbnail",e,t),n&&n()}},{key:"createThumbnailFromUrl",value:function(e,t,n,i,r,a,o){var s=this,l=document.createElement("img");return o&&(l.crossOrigin=o),r="from-image"!=getComputedStyle(document.body).imageOrientation&&r,l.onload=function(){var o=function(e){return e(1)};return"undefined"!=typeof EXIF&&null!==EXIF&&r&&(o=function(e){return EXIF.getData(l,function(){return e(EXIF.getTag(this,"Orientation"))})}),o(function(r){e.width=l.width,e.height=l.height;var o=s.options.resize.call(s,e,t,n,i),u=document.createElement("canvas"),c=u.getContext("2d");switch(u.width=o.trgWidth,u.height=o.trgHeight,r>4&&(u.width=o.trgHeight,u.height=o.trgWidth),r){case 2:c.translate(u.width,0),c.scale(-1,1);break;case 3:c.translate(u.width,u.height),c.rotate(Math.PI);break;case 4:c.translate(0,u.height),c.scale(1,-1);break;case 5:c.rotate(.5*Math.PI),c.scale(1,-1);break;case 6:c.rotate(.5*Math.PI),c.translate(0,-u.width);break;case 7:c.rotate(.5*Math.PI),c.translate(u.height,-u.width),c.scale(-1,1);break;case 8:c.rotate(-.5*Math.PI),c.translate(-u.height,0)}k(c,l,null!=o.srcX?o.srcX:0,null!=o.srcY?o.srcY:0,o.srcWidth,o.srcHeight,null!=o.trgX?o.trgX:0,null!=o.trgY?o.trgY:0,o.trgWidth,o.trgHeight);var d=u.toDataURL("image/png");if(null!=a)return a(d,u)})},null!=a&&(l.onerror=a),l.src=e.dataURL}},{key:"processQueue",value:function(){var e=this.options.parallelUploads,t=this.getUploadingFiles().length,n=t;if(!(t>=e)){var i=this.getQueuedFiles();if(i.length>0){if(this.options.uploadMultiple)return this.processFiles(i.slice(0,e-t));for(;n<e;){if(!i.length)return;this.processFile(i.shift()),n++}}}}},{key:"processFile",value:function(e){return this.processFiles([e])}},{key:"processFiles",value:function(e){var t,n=l(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.processing=!0,i.status=o.UPLOADING,this.emit("processing",i)}}catch(r){n.e(r)}finally{n.f()}return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)}},{key:"_getFilesWithXhr",value:function(e){return this.files.filter(function(t){return t.xhr===e}).map(function(e){return e})}},{key:"cancelUpload",value:function(e){if(e.status===o.UPLOADING){var t,n=this._getFilesWithXhr(e.xhr),i=l(n);try{for(i.s();!(t=i.n()).done;){t.value.status=o.CANCELED}}catch(u){i.e(u)}finally{i.f()}void 0!==e.xhr&&e.xhr.abort();var r,a=l(n);try{for(a.s();!(r=a.n()).done;){var s=r.value;this.emit("canceled",s)}}catch(u){a.e(u)}finally{a.f()}this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else e.status!==o.ADDED&&e.status!==o.QUEUED||(e.status=o.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(e){if("function"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e.apply(this,n)}return e}},{key:"uploadFile",value:function(e){return this.uploadFiles([e])}},{key:"uploadFiles",value:function(e){var t=this;this._transformFiles(e,function(n){if(t.options.chunking){var i=n[0];e[0].upload.chunked=t.options.chunking&&(t.options.forceChunking||i.size>t.options.chunkSize),e[0].upload.totalChunkCount=Math.ceil(i.size/t.options.chunkSize)}if(e[0].upload.chunked){var r=e[0],a=n[0];r.upload.chunks=[];var s=function(){for(var n=0;void 0!==r.upload.chunks[n];)n++;if(!(n>=r.upload.totalChunkCount)){0;var i=n*t.options.chunkSize,s=Math.min(i+t.options.chunkSize,a.size),l={name:t._getParamName(0),data:a.webkitSlice?a.webkitSlice(i,s):a.slice(i,s),filename:r.upload.filename,chunkIndex:n};r.upload.chunks[n]={file:r,index:n,dataBlock:l,status:o.UPLOADING,progress:0,retries:0},t._uploadData(e,[l])}};if(r.upload.finishedChunkUpload=function(n){var i=!0;n.status=o.SUCCESS,n.dataBlock=null,n.xhr=null;for(var a=0;a<r.upload.totalChunkCount;a++){if(void 0===r.upload.chunks[a])return s();r.upload.chunks[a].status!==o.SUCCESS&&(i=!1)}i&&t.options.chunksUploaded(r,function(){t._finished(e,"",null)})},t.options.parallelChunkUploads)for(var l=0;l<r.upload.totalChunkCount;l++)s();else s()}else{for(var u=[],c=0;c<e.length;c++)u[c]={name:t._getParamName(c),data:n[c],filename:e[c].upload.filename};t._uploadData(e,u)}})}},{key:"_getChunk",value:function(e,t){for(var n=0;n<e.upload.totalChunkCount;n++)if(void 0!==e.upload.chunks[n]&&e.upload.chunks[n].xhr===t)return e.upload.chunks[n]}},{key:"_uploadData",value:function(e,t){var n,i=this,r=new XMLHttpRequest,a=l(e);try{for(a.s();!(n=a.n()).done;){n.value.xhr=r}}catch(E){a.e(E)}finally{a.f()}e[0].upload.chunked&&(e[0].upload.chunks[t[0].chunkIndex].xhr=r);var s=this.resolveOption(this.options.method,e),u=this.resolveOption(this.options.url,e);r.open(s,u,!0),r.timeout=this.resolveOption(this.options.timeout,e),r.withCredentials=!!this.options.withCredentials,r.onload=function(t){i._finishedUploading(e,r,t)},r.ontimeout=function(){i._handleUploadError(e,r,"Request timedout after ".concat(i.options.timeout/1e3," seconds"))},r.onerror=function(){i._handleUploadError(e,r)},(null!=r.upload?r.upload:r).onprogress=function(t){return i._updateFilesUploadProgress(e,r,t)};var c={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};for(var d in this.options.headers&&o.extend(c,this.options.headers),c){var p=c[d];p&&r.setRequestHeader(d,p)}var h=new FormData;if(this.options.params){var f=this.options.params;for(var m in"function"==typeof f&&(f=f.call(this,e,r,e[0].upload.chunked?this._getChunk(e[0],r):null)),f){var v=f[m];if(Array.isArray(v))for(var g=0;g<v.length;g++)h.append(m,v[g]);else h.append(m,v)}}var y,k=l(e);try{for(k.s();!(y=k.n()).done;){var b=y.value;this.emit("sending",b,r,h)}}catch(E){k.e(E)}finally{k.f()}this.options.uploadMultiple&&this.emit("sendingmultiple",e,r,h),this._addFormElementData(h);for(var F=0;F<t.length;F++){var w=t[F];h.append(w.name,w.data,w.filename)}this.submitRequest(r,h,e)}},{key:"_transformFiles",value:function(e,t){for(var n=this,i=[],r=0,a=function(a){n.options.transformFile.call(n,e[a],function(n){i[a]=n,++r===e.length&&t(i)})},o=0;o<e.length;o++)a(o)}},{key:"_addFormElementData",value:function(e){if("FORM"===this.element.tagName){var t,n=l(this.element.querySelectorAll("input, textarea, select, button"));try{for(n.s();!(t=n.n()).done;){var i=t.value,r=i.getAttribute("name"),a=i.getAttribute("type");if(a&&(a=a.toLowerCase()),null!=r)if("SELECT"===i.tagName&&i.hasAttribute("multiple")){var o,s=l(i.options);try{for(s.s();!(o=s.n()).done;){var u=o.value;u.selected&&e.append(r,u.value)}}catch(c){s.e(c)}finally{s.f()}}else(!a||"checkbox"!==a&&"radio"!==a||i.checked)&&e.append(r,i.value)}}catch(c){n.e(c)}finally{n.f()}}}},{key:"_updateFilesUploadProgress",value:function(e,t,n){var i;if(void 0!==n){if(i=100*n.loaded/n.total,e[0].upload.chunked){var r=e[0],a=this._getChunk(r,t);a.progress=i,a.total=n.total,a.bytesSent=n.loaded;r.upload.progress=0,r.upload.total=0,r.upload.bytesSent=0;for(var o=0;o<r.upload.totalChunkCount;o++)void 0!==r.upload.chunks[o]&&void 0!==r.upload.chunks[o].progress&&(r.upload.progress+=r.upload.chunks[o].progress,r.upload.total+=r.upload.chunks[o].total,r.upload.bytesSent+=r.upload.chunks[o].bytesSent);r.upload.progress=r.upload.progress/r.upload.totalChunkCount}else{var s,u=l(e);try{for(u.s();!(s=u.n()).done;){var c=s.value;c.upload.progress=i,c.upload.total=n.total,c.upload.bytesSent=n.loaded}}catch(F){u.e(F)}finally{u.f()}}var d,p=l(e);try{for(p.s();!(d=p.n()).done;){var h=d.value;this.emit("uploadprogress",h,h.upload.progress,h.upload.bytesSent)}}catch(F){p.e(F)}finally{p.f()}}else{var f=!0;i=100;var m,v=l(e);try{for(v.s();!(m=v.n()).done;){var g=m.value;100===g.upload.progress&&g.upload.bytesSent===g.upload.total||(f=!1),g.upload.progress=i,g.upload.bytesSent=g.upload.total}}catch(F){v.e(F)}finally{v.f()}if(f)return;var y,k=l(e);try{for(k.s();!(y=k.n()).done;){var b=y.value;this.emit("uploadprogress",b,i,b.upload.bytesSent)}}catch(F){k.e(F)}finally{k.f()}}}},{key:"_finishedUploading",value:function(e,t,n){var i;if(e[0].status!==o.CANCELED&&4===t.readyState){if("arraybuffer"!==t.responseType&&"blob"!==t.responseType&&(i=t.responseText,t.getResponseHeader("content-type")&&~t.getResponseHeader("content-type").indexOf("application/json")))try{i=JSON.parse(i)}catch(r){n=r,i="Invalid JSON response from server."}this._updateFilesUploadProgress(e),200<=t.status&&t.status<300?e[0].upload.chunked?e[0].upload.finishedChunkUpload(this._getChunk(e[0],t)):this._finished(e,i,n):this._handleUploadError(e,t,i)}}},{key:"_handleUploadError",value:function(e,t,n){if(e[0].status!==o.CANCELED){if(e[0].upload.chunked&&this.options.retryChunks){var i=this._getChunk(e[0],t);if(i.retries++<this.options.retryChunksLimit)return void this._uploadData(e,[i.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(e,n||this.options.dictResponseError.replace("{{statusCode}}",t.status),t)}}},{key:"submitRequest",value:function(e,t,n){e.send(t)}},{key:"_finished",value:function(e,t,n){var i,r=l(e);try{for(r.s();!(i=r.n()).done;){var a=i.value;a.status=o.SUCCESS,this.emit("success",a,t,n),this.emit("complete",a)}}catch(s){r.e(s)}finally{r.f()}if(this.options.uploadMultiple&&(this.emit("successmultiple",e,t,n),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(e,t,n){var i,r=l(e);try{for(r.s();!(i=r.n()).done;){var a=i.value;a.status=o.ERROR,this.emit("error",a,t,n),this.emit("complete",a)}}catch(s){r.e(s)}finally{r.f()}if(this.options.uploadMultiple&&(this.emit("errormultiple",e,t,n),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}}]),o}();m.initClass(),m.version="5.7.2",m.options={},m.optionsForElement=function(e){return e.getAttribute("id")?m.options[g(e.getAttribute("id"))]:void 0},m.instances=[],m.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},m.autoDiscover=!0,m.discover=function(){var e;if(document.querySelectorAll)e=document.querySelectorAll(".dropzone");else{e=[];var t=function(t){return function(){var n,i=[],r=l(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;/(^| )dropzone($| )/.test(a.className)?i.push(e.push(a)):i.push(void 0)}}catch(o){r.e(o)}finally{r.f()}return i}()};t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))}return function(){var t,n=[],i=l(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;!1!==m.optionsForElement(r)?n.push(new m(r)):n.push(void 0)}}catch(a){i.e(a)}finally{i.f()}return n}()},m.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],m.isBrowserSupported=function(){var e=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){var t,n=l(m.blacklistedBrowsers);try{for(n.s();!(t=n.n()).done;){t.value.test(navigator.userAgent)&&(e=!1)}}catch(i){n.e(i)}finally{n.f()}}else e=!1;else e=!1;return e},m.dataURItoBlob=function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(t.length),r=new Uint8Array(i),a=0,o=t.length,s=0<=o;s?a<=o:a>=o;s?a++:a--)r[a]=t.charCodeAt(a);return new Blob([i],{type:n})};var v=function(e,t){return e.filter(function(e){return e!==t}).map(function(e){return e})},g=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})};m.createElement=function(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes[0]},m.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},m.getElement=function(e,t){var n;if("string"==typeof e?n=document.querySelector(e):null!=e.nodeType&&(n=e),null==n)throw new Error("Invalid `".concat(t,"` option provided. Please provide a CSS selector or a plain HTML element."));return n},m.getElements=function(e,t){var n,i;if(e instanceof Array){i=[];try{var r,a=l(e);try{for(a.s();!(r=a.n()).done;)n=r.value,i.push(this.getElement(n,t))}catch(u){a.e(u)}finally{a.f()}}catch(c){i=null}}else if("string"==typeof e){i=[];var o,s=l(document.querySelectorAll(e));try{for(s.s();!(o=s.n()).done;)n=o.value,i.push(n)}catch(u){s.e(u)}finally{s.f()}}else null!=e.nodeType&&(i=[e]);if(null==i||!i.length)throw new Error("Invalid `".concat(t,"` option provided. Please provide a CSS selector, a plain HTML element or a list of those."));return i},m.confirm=function(e,t,n){return window.confirm(e)?t():null!=n?n():void 0},m.isValidFile=function(e,t){if(!t)return!0;t=t.split(",");var n,i=e.type,r=i.replace(/\/.*$/,""),a=l(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;if("."===(o=o.trim()).charAt(0)){if(-1!==e.name.toLowerCase().indexOf(o.toLowerCase(),e.name.length-o.length))return!0}else if(/\/\*$/.test(o)){if(r===o.replace(/\/.*$/,""))return!0}else if(i===o)return!0}}catch(s){a.e(s)}finally{a.f()}return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each(function(){return new m(this,e)})}),"undefined"!=typeof module&&null!==module?module.exports=m:window.Dropzone=m,m.ADDED="added",m.QUEUED="queued",m.ACCEPTED=m.QUEUED,m.UPLOADING="uploading",m.PROCESSING=m.UPLOADING,m.CANCELED="canceled",m.ERROR="error",m.SUCCESS="success";var y=function(e){e.naturalWidth;var t=e.naturalHeight,n=document.createElement("canvas");n.width=1,n.height=t;var i=n.getContext("2d");i.drawImage(e,0,0);for(var r=i.getImageData(1,0,1,t).data,a=0,o=t,s=t;s>a;){0===r[4*(s-1)+3]?o=s:a=s,s=o+a>>1}var l=s/t;return 0===l?1:l},k=function(e,t,n,i,r,a,o,s,l,u){var c=y(t);return e.drawImage(t,n,i,r,a,o,s,l,u/c)},b=function(){function e(){d(this,e)}return h(e,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(e){for(var t="",n=void 0,i=void 0,r="",a=void 0,o=void 0,s=void 0,l="",u=0;a=(n=e[u++])>>2,o=(3&n)<<4|(i=e[u++])>>4,s=(15&i)<<2|(r=e[u++])>>6,l=63&r,isNaN(i)?s=l=64:isNaN(r)&&(l=64),t=t+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(l),n=i=r="",a=o=s=l="",u<e.length;);return t}},{key:"restore",value:function(e,t){if(!e.match("data:image/jpeg;base64,"))return t;var n=this.decode64(e.replace("data:image/jpeg;base64,","")),i=this.slice2Segments(n),r=this.exifManipulation(t,i);return"data:image/jpeg;base64,".concat(this.encode64(r))}},{key:"exifManipulation",value:function(e,t){var n=this.getExifArray(t),i=this.insertExif(e,n);return new Uint8Array(i)}},{key:"getExifArray",value:function(e){for(var t=void 0,n=0;n<e.length;){if(255===(t=e[n])[0]&225===t[1])return t;n++}return[]}},{key:"insertExif",value:function(e,t){var n=e.replace("data:image/jpeg;base64,",""),i=this.decode64(n),r=i.indexOf(255,3),a=i.slice(0,r),o=i.slice(r),s=a;return s=(s=s.concat(t)).concat(o)}},{key:"slice2Segments",value:function(e){for(var t=0,n=[];;){if(255===e[t]&218===e[t+1])break;if(255===e[t]&216===e[t+1])t+=2;else{var i=t+(256*e[t+2]+e[t+3])+2,r=e.slice(t,i);n.push(r),t=i}if(t>e.length)break}return n}},{key:"decode64",value:function(e){var t=void 0,n=void 0,i="",r=void 0,a=void 0,o="",s=0,l=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");t=this.KEY_STR.indexOf(e.charAt(s++))<<2|(r=this.KEY_STR.indexOf(e.charAt(s++)))>>4,n=(15&r)<<4|(a=this.KEY_STR.indexOf(e.charAt(s++)))>>2,i=(3&a)<<6|(o=this.KEY_STR.indexOf(e.charAt(s++))),l.push(t),64!==a&&l.push(n),64!==o&&l.push(i),t=n=i="",r=a=o="",s<e.length;);return l}}]),e}();b.initClass();var F=function(e,t){var n=!1,i=!0,r=e.document,a=r.documentElement,o=r.addEventListener?"addEventListener":"attachEvent",s=r.addEventListener?"removeEventListener":"detachEvent",l=r.addEventListener?"":"on",u=function i(a){if("readystatechange"!==a.type||"complete"===r.readyState)return("load"===a.type?e:r)[s](l+a.type,i,!1),!n&&(n=!0)?t.call(e,a.type||a):void 0};if("complete"!==r.readyState){if(r.createEventObject&&a.doScroll){try{i=!e.frameElement}catch(c){}i&&function e(){try{a.doScroll("left")}catch(t){return void setTimeout(e,50)}return u("poll")}()}return r[o](l+"DOMContentLoaded",u,!1),r[o](l+"readystatechange",u,!1),e[o](l+"load",u,!1)}};function w(e,t){return null!=e?t(e):void 0}function E(e,t,n){return null!=e&&"function"==typeof e[t]?n(e,t):void 0}m._autoDiscoverFunction=function(){if(m.autoDiscover)return m.discover()},F(window,m._autoDiscoverFunction);
},{}],"fqJo":[function(require,module,exports) {
"use strict";var e=require("./utils"),t=require("./image"),n=o(require("dropzone"));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){const n=e.selectionStart;if(n){const o=e.selectionEnd,i=e.scrollTop;e.value=e.value.substring(0,n)+t+e.value.substring(o,e.value.length),e.focus(),e.selectionStart=n+t.length,e.selectionEnd=n+t.length,e.scrollTop=i}else e.value+=t,e.focus()}function c(e){let t;switch(e){case"ref":t=[gettext("target topic, #entry or @author to reference:"),e=>"(".concat(pgettext("editor","see"),": ").concat(e,")")];break;case"thingy":t=[gettext("target topic, #entry or @author to thingy:"),e=>"`".concat(e,"`")];break;case"swh":t=[gettext("what should be referenced in asterisk?"),e=>"`:".concat(e,"`")];break;case"spoiler":{const e=gettext("spoiler");t=[gettext("what to write between spoiler tags?"),t=>"--`".concat(e,"`--\n").concat(t,"\n--`").concat(e,"`--")];break}}return{label:t[0],format:t[1]}}function s(e,t){const n=e.selectionStart,o=e.selectionEnd,i=e.value,s=i.substring(n,o);if(s){if("link"===t){const t=prompt(gettext("which address to link?"),"http://");"http://"!==t&&(e.value=i.substring(0,n)+"[".concat(t," ").concat(s,"]")+i.substring(o,i.length))}else e.value=i.substring(0,n)+c(t).format(s)+i.substring(o,i.length);return e.focus(),!0}return!1}(0,e.Handle)("button#insert_image","click",()=>{const t=(0,e.one)(".dropzone");t.style.display="none"===t.style.display?"":"none"}),(0,e.Handle)("button#insert_link","click",()=>{if(!s((0,e.one)("#user_content_edit"),"link")){const t=prompt(gettext("which address to link?"),"http://");if(t&&"http://"!==t){const n=prompt(gettext("alias for the link?"));n&&i((0,e.one)("#user_content_edit"),"[".concat(t," ").concat(n,"]"))}}}),(0,e.Handler)("button.insert","click",function(){const t=this.getAttribute("data-type");if(!s((0,e.one)("#user_content_edit"),t)){const n=c(t),o=prompt(n.label);o&&i((0,e.one)("#user_content_edit"),n.format(o))}}),n.default.options.userImageUpload={addRemoveLinks:!0,paramName:"file",maxFilesize:2.5,acceptedFiles:"image/*",maxFiles:10,dictRemoveFileConfirmation:gettext("Are you sure?"),dictDefaultMessage:gettext("click or drop files here to upload"),dictRemoveFile:gettext("delete image"),dictFileTooBig:gettext("File is too big ({{filesize}}MB). Max filesize: {{maxFilesize}}MB."),dictMaxFilesExceeded:gettext("You can not upload any more files."),dictUploadCanceled:gettext("Upload canceled."),dictCancelUploadConfirmation:gettext("Are you sure?"),success(t,n){i((0,e.one)("#user_content_edit"),"(".concat(pgettext("editor","image"),": ").concat(n.slug,")"))},removedfile(n){n.previewElement.remove();const o=(0,e.one)("#user_content_edit"),i=JSON.parse(n.xhr.response).slug;o.value=o.value.replace(new RegExp("\\(".concat(pgettext("editor","image"),": ").concat(i,"\\)"),"g"),""),(0,t.deleteImage)(i)}};
},{"./utils":"FOZT","./image":"pVzr","dropzone":"knkU"}],"sA32":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.userAction=i;var e=require("./utils"),t=require("./dialog");function i(t,i){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];(0,e.gqlc)({query:"mutation{user{".concat(t,'(username:"').concat(i,'"){feedback redirect}}}')}).then(function(i){const l=i.data.user[t];r&&(o||l.redirect)?window.location=o||l.redirect:(0,e.notify)(l.feedback)})}(0,e.Handle)(".unblock-user-trigger","click",function(){if(confirm(gettext("Are you sure?"))){let e;this.classList.contains("sync")?e=location:this.classList.toggle("dj-hidden"),i("block",this.getAttribute("data-username"),e)}}),(0,e.Handler)(".follow-user-trigger","click",function(){i("follow",this.parentNode.getAttribute("data-username")),(0,e.toggleText)(this.querySelector("a"),gettext("follow"),gettext("unfollow"))}),(0,e.Handle)("ul.user-links","click",function(e){let i;if(e.target.matches("li.block-user a")?i=t.showBlockDialog:e.target.matches("li.send-message a")&&(i=t.showMessageDialog),i){i(this.getAttribute("data-username"))}});
},{"./utils":"FOZT","./dialog":"HRwc"}],"HRwc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.showBlockDialog=n,exports.showMessageDialog=o;var e=require("./utils"),t=require("./user");function n(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const o=(0,e.one)("#block_user");o.setAttribute("data-username",t),o.setAttribute("data-re",n),(0,e.one)("#username-holder").textContent=t,(0,e.one)("#blockUserModal")._modalInstance.show()}function o(t,n){const o=(0,e.one)("#sendMessageModal");(0,e.one)("#sendMessageModal span.username").textContent=t,n&&((0,e.one)("#sendMessageModal textarea#message_body").value=n),o.setAttribute("data-for",t),o._modalInstance.show()}function s(t,n){const o={recipient:t,body:n};return(0,e.gqlc)({query:"mutation compose($body:String!,$recipient:String!){message{compose(body:$body,recipient:$recipient){feedback}}}",variables:o}).then(function(t){(0,e.notify)(t.data.message.compose.feedback)})}(0,e.Handle)("#block_user","click",function(){const n=this.getAttribute("data-username"),o="true"===this.getAttribute("data-re");o||(0,e.many)(".entry-full").forEach(e=>{e.querySelector(".meta .username").textContent===n&&e.remove()}),(0,t.userAction)("block",n,null,o)}),(0,e.Handle)("#send_message_btn","click",function(){const t=(0,e.one)("#sendMessageModal textarea"),n=(0,e.one)("#sendMessageModal"),o=t.value;o.length<3?(0,e.notify)(gettext("if only you could write down something"),"error"):(0,e.isValidText)(o)?(this.disabled=!0,s(n.getAttribute("data-for"),o).then(()=>{n._modalInstance.hide(),t.value=""}).finally(()=>{this.disabled=!1})):(0,e.notify)(gettext("this content includes forbidden characters."),"error")});
},{"./utils":"FOZT","./user":"sA32"}],"BZ3n":[function(require,module,exports) {
"use strict";var t=require("./utils"),e=require("./dialog");function n(e,n){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,t.gqlc)({query:"mutation{entry{".concat(e,'(pk:"').concat(n,'"){feedback ').concat(o?"redirect":"","}}}")})}function o(){(0,t.many)("article.entry p").forEach(e=>{if((t=>t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)(e)){const n=(0,t.template)('<div role="button" tabindex="0" class="read_more">'.concat(gettext("continue reading"),"</div>"));e.parentNode.append(n),(0,t.Handle)(n,"click",function(){e.style.maxHeight="none",this.style.display="none"})}})}function a(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,t.gqlc)({query:"mutation($content:String!,$pk:ID,$title:String){entry{edit(content:$content,pk:$pk,title:$title){pk,content,feedback}}}",variables:{content:e,title:o,pk:n}}).then(e=>{if(!e.errors){const n=(0,t.one)("button.draft-async");return n.textContent=gettext("save changes"),n.hasAttribute("data-pk")||n.after((0,t.template)('<button type="button" class="btn btn-django-link fs-90 ml-3 draft-del">'.concat(gettext("delete"),"</button>"))),window.onbeforeunload=null,(0,t.notify)(e.data.entry.edit.feedback,"info"),e}for(const n of e.errors)(0,t.notify)(n.message,"error")})}(0,t.Handler)("a.favorite[role='button']","click",function(){const e=this.closest(".entry-full").getAttribute("data-id");(0,t.gqlc)({query:'mutation{entry{favorite(pk:"'.concat(e,'"){feedback count}}}')}).then(t=>{const e=t.data.entry.favorite.count,n=this.nextElementSibling;this.classList.toggle("active"),0===e?(n.textContent="",n.setAttribute("tabindex","-1")):(n.textContent=e,n.setAttribute("tabindex","0")),this.parentNode.querySelector("span.favorites-list").setAttribute("data-loaded","false")})}),(0,t.Handler)("a.fav-count[role='button']","click",function(){const e=this.nextElementSibling;if("true"===e.getAttribute("data-loaded"))return;e.innerHTML="<div class='px-3 py-1'><div class='spinning'><span style='font-size: 1.25em'>&orarr;</span></div></div>";const n=this.closest(".entry-full").getAttribute("data-id");(0,t.gqlc)({query:"{entry{favoriters(pk:".concat(n,"){username slug isNovice}}}")}).then(n=>{const o=n.data.entry.favoriters,a=o.filter(t=>!1===t.isNovice),i=o.filter(t=>!0===t.isNovice);if(e.innerHTML="",e.setAttribute("data-loaded","true"),!o.length)return void(e.innerHTML="<span class='p-2'>".concat(gettext("actually, nothing here."),"</span>"));let r="";if(a.length>0){for(const t of a)r+='<a class="author" href="/author/'.concat(t.slug,'/">@').concat(t.username,"</a>");e.innerHTML=r}if(i.length>0){const n=interpolate(ngettext("... %(count)s novice","... %(count)s novices",i.length),{count:i.length},!0),o=(0,t.template)('<a role="button" tabindex="0">'.concat(n,"</a>")),a=(0,t.template)('<span class="dj-hidden"></span>');e.append(o),o.addEventListener("click",()=>{a.classList.toggle("dj-hidden")}),r="";for(const t of i)r+='<a class="novice" href="/author/'.concat(t.slug,'/">@').concat(t.username,"</a>");a.innerHTML=r,e.append(a)}})}),(0,t.Handler)("a.twitter[role='button'], a.facebook[role='button']","click",function(){const t=this.classList.contains("twitter")?"https://twitter.com/intent/tweet?text=":"https://www.facebook.com/sharer/sharer.php?u=",e=this.closest(".entry-footer").querySelector(".meta .permalink").getAttribute("href"),n=window.open();n.opener=null,n.location="".concat(t).concat(window.location.origin).concat(e)}),(0,t.Handler)(".entry-vote .vote","click",function(){const e=this.classList.contains("upvote")?"upvote":"downvote",o=this.closest(".entry-full").getAttribute("data-id");n(e,o).then(n=>{const o=n.data.entry[e].feedback;if(null==o){(this.nextElementSibling||this.previousElementSibling).classList.remove("active"),this.classList.toggle("active")}else(0,t.notify)(o,"error",4e3)})}),(0,t.Handler)(".comment-vote .vote","click",function(){const e=this.classList.contains("upvote")?"upvote":"downvote",n=this.parentNode.getAttribute("data-id");(0,t.gqlc)({query:"mutation($pk:ID!,$action:String!){entry{votecomment(pk:$pk,action:$action){count}}}",variables:{pk:n,action:e}}).then(e=>{if(e.errors)for(const n of e.errors)(0,t.notify)(n.message,"error");else this.parentNode.querySelectorAll(".vote").forEach(t=>{t!==this&&t.classList.remove("active")}),this.classList.toggle("active"),this.parentNode.querySelector(".rating").textContent=e.data.entry.votecomment.count})}),(0,t.Handler)(".entry-actions","click",function(o){const[a]=["message","pin","block","delete"].filter(t=>o.target.classList.contains(t));switch(a){case"message":{const t=this.parentNode.querySelector(".username").textContent,n=this.closest(".entry-full").getAttribute("data-id");(0,e.showMessageDialog)(t,"`#".concat(n,"`:\n"));break}case"pin":{const e=this.closest(".entry-full").getAttribute("data-id"),o=(0,t.one)("body");n("pin",e).then(n=>{(0,t.many)("a.action[role='button']").forEach(t=>{t.classList.remove("loaded")}),o.getAttribute("data-pin")===e?o.removeAttribute("data-pin"):o.setAttribute("data-pin",e),(0,t.notify)(n.data.entry.pin.feedback)});break}case"block":{const n=this.parentNode.querySelector(".username").textContent,o=(0,t.one)(".profile-username"),a=o&&o.textContent===n;(0,e.showBlockDialog)(n,a);break}case"delete":if(confirm(gettext("are you sure to delete?"))){const e=this.closest(".entry-full"),o=1===(0,t.many)("ul.topic-view-entries li.entry-full").length;n("delete",e.getAttribute("data-id"),o).then(n=>{const a=n.data.entry.delete;o?window.location=a.redirect:(e.remove(),(0,t.notify)(a.feedback))})}}}),(0,t.Handler)(".entry-full a.action[role='button']","click",function(){if(this.classList.contains("loaded"))return;const e=this.closest(".entry-full"),n=e.getAttribute("data-id"),o=encodeURIComponent(e.closest("[data-topic]").getAttribute("data-topic")),a=this.parentNode.querySelector(".entry-actions"),i=n===(0,t.one)("body").getAttribute("data-pin")?gettext("unpin from profile"):gettext("pin to profile");a.innerHTML="",t.userIsAuthenticated&&(e.classList.contains("commentable")&&(a.innerHTML+='<a target="_blank" href="/entry/'.concat(n,'/comment/" class="dropdown-item">').concat(gettext("comment"),"</a>")),e.classList.contains("owner")?(a.innerHTML+='<a role="button" tabindex="0" class="dropdown-item pin">'.concat(i,"</a>"),a.innerHTML+='<a role="button" tabindex="0" class="dropdown-item delete">'.concat(gettext("delete"),"</a>"),a.innerHTML+='<a href="/entry/update/'.concat(n,'/" class="dropdown-item">').concat(gettext("edit"),"</a>")):e.classList.contains("private")||(a.innerHTML+='<a role="button" tabindex="0" class="dropdown-item message">'.concat(gettext("message"),"</a>"),a.innerHTML+='<a role="button" tabindex="0" class="dropdown-item block">'.concat(gettext("block"),"</a>"))),a.innerHTML+='<a class="dropdown-item" href="/contact/?referrer_entry='.concat(n,"&referrer_topic=").concat(o,'">').concat(gettext("report"),"</a>"),this.classList.add("loaded")}),(0,t.Handle)(".delete-entry-redirect","click",function(){confirm(gettext("are you sure to delete?"))&&n("delete",this.getAttribute("data-target-entry"),!0).then(t=>{window.location=t.data.entry.delete.redirect})}),(0,t.Handle)(".pin-sync","click",function(){n("pin",this.getAttribute("data-id")).then(e=>{(0,t.notify)(e.data.entry.pin.feedback),window.location=location})}),window.onload=(()=>{(0,t.one)("body").classList.contains("has-entries")&&o()}),(0,t.Handle)("button.draft-async","click",function(){const e=this.getAttribute("data-title"),n=this.getAttribute("data-pk"),o=(0,t.one)("#user_content_edit").value;o.trim()?n?a(o,n).then(e=>{e&&((0,t.one)("p.pw-text").innerHTML=e.data.entry.edit.content)}):e&&a(o,null,e).then(e=>{if(e){(0,t.one)(".user-content").prepend((0,t.template)('<section class="pw-area"><h2 class="h5 text-muted">'.concat(gettext("preview"),'</h2><p class="text-formatted pw-text">').concat(e.data.entry.edit.content,"</p></section>")));const n=e.data.entry.edit.pk;this.setAttribute("data-pk",n),(0,t.one)("#content-form").prepend((0,t.template)('<input type="hidden" name="pub_draft_pk" value="'.concat(n,'" />')))}}):(0,t.notify)(gettext("if only you could write down something"),"error")}),(0,t.Handle)(document,"click",e=>{if(e.target.matches("button.draft-del")&&confirm(gettext("Are you sure?"))){const o=(0,t.one)("button.draft-async");n("delete",o.getAttribute("data-pk")).then(n=>{(0,t.one)("section.pw-area").remove(),(0,t.one)("#user_content_edit").value="",(0,t.one)("[name=pub_draft_pk]").remove(),o.textContent=gettext("keep this as draft"),o.removeAttribute("data-pk"),e.target.remove(),(0,t.notify)(n.data.entry.delete.feedback,"info")})}}),(0,t.Handle)(".allowsave","keydown",e=>{(e.ctrlKey||e.metaKey)&&"s"===String.fromCharCode(e.which).toLowerCase()&&(e.preventDefault(),(0,t.one)("button.draft-async").dispatchEvent(new Event("click")))});
},{"./utils":"FOZT","./dialog":"HRwc"}],"SRM7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.userIsMobile=void 0;var e=require("./utils");let t=!1;exports.userIsMobile=t;let s=0;function a(){const t=window.pageYOffset,a=(0,e.one)("header.page_header"),o=(0,e.one)(".sub-nav");if(Math.abs(s-t)<=30)return;const n=()=>{o.style.marginTop="0",a.style.top="0"};t>s?(o.style.marginTop=".75em",a.style.top="-55px",a.addEventListener("mouseover",n,{once:!0})):n(),s=t}const o=window.matchMedia("(max-width: 810px)");function n(){exports.userIsMobile=t=!1,parseInt(localStorage.getItem("where"))>0&&(0,e.one)("#left-frame-nav").scroll(0,localStorage.getItem("where")),window.removeEventListener("scroll",a),(0,e.one)(".sub-nav").style.marginTop="0",(0,e.one)("header.page_header").style.top="0",(0,e.many)("a[data-sup]").forEach(e=>{e.innerHTML="*"})}function r(){exports.userIsMobile=t=!0,window.addEventListener("scroll",a),(0,e.many)("a[data-sup]").forEach(e=>{e.innerHTML="<sup>".concat(e.getAttribute("data-sup"),"</sup>")})}function i(e){e.matches?r():n()}o.addListener(i),document.addEventListener("DOMContentLoaded",()=>{i(o);const t=(0,e.one)("#request-messages");if("true"===t.getAttribute("data-has-messages")){let s=2e3;t.childNodes.forEach(t=>{const a=t.getAttribute("data-extra").includes("persistent");(0,e.notify)(t.getAttribute("data-message"),t.getAttribute("data-level"),s,a),s+=1e3})}});
},{"./utils":"FOZT"}],"PJ2G":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setExclusions=s,exports.LeftFrame=void 0;var e=require("./utils"),t=require("./mql");function s(t){const s=JSON.parse(e.cookies.get("lfex")||"null");if(t){if(s)for(const e of t)s.includes(e)?t=s.filter(t=>t!==e):(s.push(e),t=s);return e.cookies.set("lfex",JSON.stringify(t)),t}return s}class a{constructor(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,r=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.slug=t,this.page=s,this.year=a,this.refresh=l,this.searchKeys=n,this.tab=o,this.exclusions=i,this.extra=r,this.setCookies(),this.loadIndicator=(0,e.one)("#load_indicator")}setCookies(){if(e.cookies.set("lfac",this.slug),e.cookies.set("lfnp",this.page),this.tab?e.cookies.set("lfat",this.tab):this.tab=e.cookies.get("lfat")||null,this.extra?e.cookies.set("lfea",this.extra):this.extra=e.cookies.get("lfea")||null,"today-in-history"===this.slug){const t=e.cookies.get("lfsy");this.year?e.cookies.set("lfsy",this.year):this.year=t||null}else if("search"===this.slug){const t=e.cookies.get("lfsp");this.searchKeys?e.cookies.set("lfsp",this.searchKeys):this.searchKeys=t||null}else"popular"===this.slug&&(this.exclusions=s(this.exclusions))}call(){this.loadIndicator.style.display="inline";const t={slug:this.slug,year:this.year,page:this.page,searchKeys:this.searchKeys,refresh:this.refresh,tab:this.tab,exclusions:this.exclusions,extra:this.extra};(0,e.gqlc)({query:"query($slug: String!,$year:Int,$page:Int,$searchKeys:String,$refresh:Boolean,$tab:String,\n            $exclusions:[String],$extra:JSONString){topics(slug:$slug,year:$year,page:$page,searchKeys:$searchKeys,\n            refresh:$refresh,tab:$tab,exclusions:$exclusions,extra:$extra){\n                safename refreshCount year yearRange slugIdentifier parameters\n                page { objectList { slug title count } paginator { pageRange numPages } number hasOtherPages }\n                tabs{current available{name, safename}}\n                exclusions{active, available{name, slug, description}}\n            }}",variables:t},!0).then(t=>{t.errors?(this.loadIndicator.style.display="none",(0,e.notify)(gettext("something went wrong"),"error")):this.render(t.data.topics)})}render(t){(0,e.one)("#left-frame-nav").scroll({top:0,behavior:"smooth"}),(0,e.one)("#current_category_name").textContent=t.safename,this.renderRefreshButton(t.refreshCount),this.renderYearSelector(t.year,t.yearRange),this.renderPagination(t.page.hasOtherPages,t.page.paginator.pageRange,t.page.paginator.numPages,t.page.number),this.renderTopicList(t.page.objectList,t.slugIdentifier,t.parameters),this.renderShowMoreButton(t.page.number,t.page.hasOtherPages),this.renderTabs(t.tabs),this.renderExclusions(t.exclusions),this.loadIndicator.style.display="none"}renderRefreshButton(t){const s=(0,e.one)("#refresh_bugun");t?(s.classList.remove("dj-hidden"),(0,e.one)("span#new_content_count").textContent="(".concat(t,")")):s.classList.add("dj-hidden")}renderShowMoreButton(t,s){const a=(0,e.one)("a#show_more");1===t&&s?a.classList.remove("dj-hidden"):a.classList.add("dj-hidden")}renderTabs(t){const s=(0,e.one)("ul#left-frame-tabs");if(t){s.innerHTML="";const e=t.available,a=t.current;for(const t of e)s.innerHTML+='<li class="nav-item"><a role="button" tabindex="0" data-lf-slug="'.concat(this.slug,'" data-tab="').concat(t.name,'" class="nav-link').concat(a===t.name?" active":"",'">').concat(t.safename,"</a></li>");s.classList.remove("dj-hidden")}else s.classList.add("dj-hidden")}renderExclusions(t){const s=(0,e.one)("#popular_excluder"),a=(0,e.one)("#exclusion-choices"),n=a.querySelector("ul.exclusion-choices");if(t){n.innerHTML="",s.classList.remove("dj-hidden");for(const e of t.available){const s=t.active.includes(e.slug);n.innerHTML+='<li><a role="button" title="'.concat(e.description,'" ').concat(s?'class="active"':"",' tabindex="0" data-slug="').concat(e.slug,'">#').concat(e.name,"</a></li>")}t.active.length?s.classList.add("active"):s.classList.remove("active")}else s.classList.add("dj-hidden"),a.style.display="none"}renderYearSelector(t,s){const a=(0,e.one)("#year_select");if(a.innerHTML="","today-in-history"===this.slug){a.style.display="block";for(const e of s)a.innerHTML+="<option ".concat(e===t?"selected":"",' id="').concat(e,'">').concat(e,"</option>")}else a.style.display="none"}renderTopicList(t,s,a){const n=(0,e.one)("ul#topic-list");if(0===t.length)n.innerHTML="<small>".concat(gettext("nothing here"),"</small>");else{n.innerHTML="";const l=a||"";let o="";for(const a of t)o+='<li class="list-group-item"><a href="'.concat(s).concat(a.slug,"/").concat(l,'">').concat((0,e.notSafe)(a.title),'<small class="total_entries">').concat(a.count&&"0"!==a.count?a.count:"","</small></a></li>");o&&(n.innerHTML=o)}}renderPagination(t,s,a,n){const l=(0,e.one)("#lf_pagination_wrapper"),o=(0,e.one)("select#left_frame_paginator"),i=(0,e.one)("#lf_total_pages");if(t&&1!==n){o.innerHTML="";let e="";for(const t of s)e+="<option ".concat(t===n?"selected":"",' value="').concat(t,'">').concat(t,"</option>");o.innerHTML+=e,i.textContent=a,l.classList.remove("dj-hidden")}else l.classList.add("dj-hidden")}static populate(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(t.userIsMobile)return;for(var n=arguments.length,l=new Array(n>2?n-2:0),o=2;o<n;o++)l[o-2]=arguments[o];new a(e,s,...l).call()}static refreshPopulate(){a.populate("today",1,null,null,!0)}}exports.LeftFrame=a,(0,e.Handle)("body","click",e=>{const s=e.target.closest("[data-lf-slug]");if(s&&!t.userIsMobile){const t=s.getAttribute("data-lf-slug"),n=s.getAttribute("data-tab")||null,l=s.getAttribute("data-lf-extra")||null;a.populate(t,1,null,null,!1,n,null,l),s.classList.contains("dropdown-item")&&e.stopPropagation(),e.preventDefault()}}),(0,e.Handle)("#year_select","change",function(){const e=this.value;a.populate("today-in-history",1,e)}),(0,e.Handle)("select#left_frame_paginator","change",function(){a.populate(e.cookies.get("lfac"),this.value)});const n=(0,e.one)("select#left_frame_paginator"),l=(0,e.one)("#lf_total_pages"),o=new Event("change");(0,e.Handle)(l,"click",function(){n.value!==this.textContent&&(n.value=this.textContent,n.dispatchEvent(o))}),(0,e.Handle)("#lf_navigate_before","click",()=>{const e=parseInt(n.value);e-1>0&&(n.value=e-1,n.dispatchEvent(o))}),(0,e.Handle)("#lf_navigate_after","click",()=>{const e=parseInt(n.value);e+1<=parseInt(l.textContent)&&(n.value=e+1,n.dispatchEvent(o))}),(0,e.Handle)("a#show_more","click",function(){const t=e.cookies.get("lfac");t&&a.populate(t,2),this.classList.add("dj-hidden")}),(0,e.Handle)("#refresh_bugun","click",a.refreshPopulate),(0,e.Handler)(".exclusion-button","click",function(){this.closest("div").parentNode.querySelector(".exclusion-settings").classList.toggle("dj-hidden")}),(0,e.Handle)("#exclusion-choices","click",e=>{"A"===e.target.tagName&&(e.target.classList.toggle("active"),a.populate("popular",1,null,null,null,null,[e.target.getAttribute("data-slug")]))}),(0,e.Handle)("#exclusion-settings-mobile","click",e=>{"A"===e.target.tagName&&(s([e.target.getAttribute("data-slug")]),window.location=location)}),(0,e.Handler)("[data-lf-slug]","click",function(){(0,e.many)("[data-lf-slug]").forEach(e=>e.classList.remove("active")),(0,e.many)("[data-lf-slug=".concat(this.getAttribute("data-lf-slug"),"]")).forEach(e=>e.classList.add("active"))}),(0,e.Handle)("select#mobile_year_changer","change",function(){window.location=(0,e.updateQueryStringParameter)(location.href,"year",this.value)}),(0,e.Handle)("#left-frame-nav","scroll",function(){localStorage.setItem("where",this.scrollTop)});
},{"./utils":"FOZT","./mql":"SRM7"}],"zfSF":[function(require,module,exports) {
"use strict";var e=require("./mql"),o=require("./left-frame"),n=require("./utils");function t(e){const o=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&e[n]&&o.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return o.join("&")}function r(n){if(!n)return;e.userIsMobile&&(window.location="/threads/".concat("search","/?").concat(n)),o.LeftFrame.populate("search",1,null,n)}(0,n.Handle)("button#perform_advanced_search","click",()=>{const e=(0,n.one)("input#in_favorites_dropdown");r(t({keywords:(0,n.one)("input#keywords_dropdown").value,author_nick:(0,n.one)("input#author_nick_dropdown").value,is_nice_ones:(0,n.one)("input#nice_ones_dropdown").checked,is_in_favorites:e&&e.checked,from_date:(0,n.one)("input#date_from_dropdown").value,to_date:(0,n.one)("input#date_to_dropdown").value,ordering:(0,n.one)("select#ordering_dropdown").value}))}),(0,n.Handler)("a[role=button].quicksearch","click",function(){const e=this.getAttribute("data-keywords");let o;r((o=e.startsWith("@")&&e.substr(1)?"author_nick=".concat(e.substr(1)):"keywords=".concat(e))+"&ordering=newer")});
},{"./mql":"SRM7","./left-frame":"PJ2G","./utils":"FOZT"}],"bKDY":[function(require,module,exports) {
"use strict";var t=require("./utils");function e(e,i){return(0,t.gqlc)({query:"mutation{topic{".concat(e,'(pk:"').concat(i,'"){feedback}}}')}).then(i=>{(0,t.notify)(i.data.topic[e].feedback)})}function i(e){const i={title:e,hint:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null};return(0,t.gqlc)({query:"mutation wish($title:String!,$hint:String){topic{wish(title:$title,hint:$hint){feedback hint}}}",variables:i})}(0,t.Handle)(".follow-topic-trigger","click",function(){(0,t.toggleText)(this,gettext("unfollow"),gettext("follow")),e("follow",this.getAttribute("data-topic-id"))}),(0,t.Handler)(".suggestion-vote button","click",function(){const e=this.classList.contains("up")?1:-1,i=this.parentNode.getAttribute("data-topic"),o=this.parentNode.getAttribute("data-category");(0,t.gqlc)({query:"mutation($category:String!,$topic:String!,$direction:Int!){category{suggest(category:$category,topic:$topic,direction:$direction){feedback}}}",variables:{category:o,topic:i,direction:e}}).then(e=>{if(e.errors)for(const i of e.errors)(0,t.notify)(i.message,"error");else{this.classList.toggle("btn-django-link"),(this.nextElementSibling||this.previousElementSibling).classList.remove("btn-django-link")}})}),(0,t.Handle)("a.wish-prepare[role=button]","click",function(){this.parentNode.querySelectorAll(":not(.wish-purge):not(.wish-prepare)").forEach(t=>{t.classList.toggle("dj-hidden")}),(0,t.toggleText)(this,gettext("someone should populate this"),gettext("nevermind"))}),(0,t.Handle)("a.wish-send[role=button]","click",function(){const e=this.parentNode.querySelector("textarea"),o=e.value;!o||(0,t.isValidText)(o)?i(this.parentNode.getAttribute("data-topic"),o).then(i=>{if(i.errors){for(const e of i.errors)(0,t.notify)(e.message,"error");return}e.value="",Array.from(this.parentNode.children).forEach(t=>{t.classList.toggle("dj-hidden")});const o=i.data.topic.wish.hint,n=(0,t.one)("ul#wish-list");n.classList.remove("dj-hidden"),n.prepend((0,t.template)('<li class="list-group-item owner">'.concat(gettext("you just wished for this topic.")," ").concat(o?"".concat(gettext("your hint:"),' <p class="m-0 text-formatted"><i>').concat(o,"</i></p>"):"","</li>"))),window.scrollTo({top:0,behavior:"smooth"}),(0,t.notify)(i.data.topic.wish.feedback)}):(0,t.notify)(gettext("this content includes forbidden characters."),"error")}),(0,t.Handle)("a.wish-purge[role=button]","click",function(){const e=this.parentNode.getAttribute("data-topic");confirm(gettext("are you sure to delete?"))&&i(e).then(e=>{this.classList.toggle("dj-hidden");const i=(0,t.one)("ul#wish-list"),o=this.parentNode.querySelector(".wish-prepare");o.textContent=gettext("someone should populate this"),o.classList.toggle("dj-hidden"),i.querySelector("li.owner").remove(),i.children.length||i.classList.add("dj-hidden"),(0,t.notify)(e.data.topic.wish.feedback)})});
},{"./utils":"FOZT"}],"Focm":[function(require,module,exports) {
"use strict";require("./lib/autocomplete"),require("./lib/dropdown"),require("./lib/modal"),require("./common"),require("./accessibility"),require("./category"),require("./conversation"),require("./editor"),require("./entry"),require("./search"),require("./topic");
},{"./lib/autocomplete":"BJB9","./lib/dropdown":"yfn7","./lib/modal":"wHs2","./common":"FoEN","./accessibility":"lL3F","./category":"WanD","./conversation":"xXjY","./editor":"fqJo","./entry":"BZ3n","./search":"zfSF","./topic":"bKDY"}]},{},["Focm"], null)